{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Task complete, reviewed, and refined","closed_at":"2026-02-21T22:06:33Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"ad983b9632d8f69bd1a42da57932a18501f6f2d0ef09fd5314f3dc49dcb1ba4c","created_at":"2026-02-21T17:27:37Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Fetch models.dev/api.json if missing. Add update CLI. Parse and activate providers based on env vars.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-0ce","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[PRO] Core: Model Discovery \u0026 models-api.json Integration","updated_at":"2026-02-21T22:06:33Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Sidebar integration fully restored. All build errors fixed, tests pass.","closed_at":"2026-02-25T10:17:38Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"7064bfeec2a5366b65700255330062fb6c7548436e6eb63e5250dae89296f567","created_at":"2026-02-25T10:01:56Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Through some git shenanigans we lost the work of bb-lh7. reflog 20-27 should hopefully have the sidebar logic in there\nNeed to be careful not to revert other stuff by digging out those commit","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-0it","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Restored sidebar integration:\n- Fixed worktreesDiscoveredMsg with nodes and err fields\n- Implemented discoverWorktreesCmd with full worktree discovery logic  \n- Added selectedWorktree field to UIModel\n- Added handleWorktreesDiscovered and handleWorktreeSelected handlers\n- Fixed launchCmd to calculate and pass workDir\n- Updated confirmView call to include workDir\n- Fixed FocusColumn to start with FocusSidebar\n- Added proper key navigation for FocusSidebar (left/right/tab)\n- Added FocusSidebar case to handleEnterKey\n- Updated updateKeyBindings for FocusSidebar\n- Fixed sidebar rendering in model_view.go\n- Added domain import to model_update.go","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[BUG] System broken through git mess","updated_at":"2026-02-25T10:17:38Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review completed and refinement implemented","closed_at":"2026-02-21T22:06:22Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"73b694a2be8e1e17c204e8c6bd09488b29f17dfb3e8b0ae213b4717ffb9ef1c7","created_at":"2026-02-21T21:22:52Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-0lc","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: [PRO] Core: Model Discovery \u0026 models-api.json Integration","updated_at":"2026-02-21T22:06:22Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review passed with score 9.0. Guard successfully prevents startup cutoff. Follow-up bb-9bq created for general layout over-rendering.","closed_at":"2026-02-27T10:05:07Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"f44b525c51d7cd4aeecf21f58fa484c04cfbc52904e2103837456becf413bbdf","created_at":"2026-02-27T09:58:48Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the fix for bb-b9b - App starts with head cut off bug.\n\n## Changes Made\n- Added guard in  at internal/ui/model_view.go:108-111\n- Returns \"Initializing...\" when height is not yet initialized\n- Prevents negative height calculations that break layout\n\n## Verification\n- All UI tests pass\n- Logic prevents negative  values on startup\n\n## Files Modified\n- internal/ui/model_view.go","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-0nj","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Fix app head cut off on startup (bb-b9b)","updated_at":"2026-02-27T10:05:07Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Score 9.0. Code is generally good but found severe data races in tea.Cmd map mutations. Fixed them inline as minor cleanup. Approved.","closed_at":"2026-02-26T19:22:01Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"e9042bce1dd98d3820b8aeb800c0e97773664cebaa3645032e426306d2a5412a","created_at":"2026-02-26T16:30:07Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Code review for bb-5o7 implementation.\\n\\nImplementation replaces the finished screen with inline agent status display in sidebar. Agents appear as children of worktrees with colored status indicators (green=running, red=failed, white=completed). Selecting an agent shows its output. Pressing 'c' clears selected agent, 'C' clears all stopped agents.\\n\\nFiles modified:\\n- internal/domain/sidebar.go\\n- internal/ui/sidebar.go\\n- internal/ui/model_types.go\\n- internal/ui/model.go\\n- internal/ui/model_update.go\\n- internal/ui/model_commands.go\\n- internal/ui/model_messages.go\\n- internal/ui/model_view.go\\n- internal/ui/model_test.go\\n\\nFiles removed:\\n- internal/ui/result.go\\n\\nPlease review for code quality, maintainability, and edge cases. Assign a score (0.0-10.0).","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-0qx","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Show running agents in sidebar with status indicators","updated_at":"2026-02-26T19:22:01Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Superseded by bb-p3i: simpler approach of greying out empty columns is more appropriate than reactive filtering for the heterogeneous tool landscape (amp vs opencode vs claude-code have different selector concepts)","closed_at":"2026-02-28T06:59:57Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"1c1881abd8cdd24c78b39b5edd30476b7cd445bc11324cbee3111055b035e3a1","created_at":"2026-02-21T17:27:39Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Wire selection matrix logic to dynamically filter downstream columns based on legal combinations.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-0vw","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Replaced by bb-p3i: TUI: Grey out empty columns in selection matrix. After analysis, reactive filtering on models/agents doesn't make sense given the different tool architectures. Instead, we should simply grey out columns when a harness has no models/agents configured. Closing this ticket in favor of the simpler approach in bb-p3i.","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[PRO] TUI: Reactive Filtering Engine","updated_at":"2026-02-28T06:59:57Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review completed and refinements addressed in bb-98r","closed_at":"2026-02-22T10:50:32Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"0c3cd625d19e5d1f27a95c8a6a08548161edfd1d59f38e0025530001e084a48e","created_at":"2026-02-22T10:32:25Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review bb-2wv for moving AppOptions to the domain package to prevent circular dependencies. Update dolt.NewStore signature to accept domain.AppOptions, enabling access to global configuration like the Debug flag within the data layer.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-12u","is_template":0,"issue_type":"chore","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Refactor AppOptions to domain package and update dolt.NewStore","updated_at":"2026-02-22T10:50:32Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review complete. Score 7.5/10. Remaining defects assigned to bb-2id.","closed_at":"2026-02-28T12:00:44Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"941107c0362fb162208d79b97664f03f44c2e338c3f36b0036d816fb284a8881","created_at":"2026-02-28T11:50:23Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Code review for bb-vpu refinement work.\n\nChanges made:\n1. Fixed silent fallback in newTestAppWithHarnesses - now uses require.NoError\n2. Added proper assertions to navigation tests (focus state verification)\n3. Replaced some time.Sleep with WaitFor where appropriate (initial renders, final states)\n4. Fixed startAgentTuiSession - removed misleading context/cancel tracking\n5. Added assertion to TestAgentTui_GreyedOutColumns (was only logging)\n6. Added error capture for all agent-tui keyboard commands\n7. Fixed connectWebsocket context lifetime - separate dial context from connection\n8. Fixed stale binary caching - now checks source modification times\n\nPlease review the changes in:\n- internal/ui/teatest_test.go\n- internal/ui/agent_tui_test.go","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-147","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: TUI Automated Testing Refinement (bb-vpu)","updated_at":"2026-02-28T12:00:44Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review passed (9.0/10). All deliverables met: Launcher interface, CommandRunner abstraction, StatusChecker, dry-run mode, tmux guard. Comprehensive unit tests. Clean code quality.","closed_at":"2026-02-20T08:42:33Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"2bcae4dbb1c880ec045f58698dead224c404cc285fc886402a725cd827a8148f","created_at":"2026-02-20T08:37:50Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-1f6","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Implement tmux launcher with dry-run and outside-tmux guard","updated_at":"2026-02-20T08:42:33Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review complete. Score: 6.0/10. Critical SQL placeholder bug found (PostgreSQL style  instead of MySQL style ?). Refinement ticket bb-hdm created with all defects documented. Original task bb-2p9 is now blocked by refinement.","closed_at":"2026-02-20T08:09:16Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"b5bfa4a3b810646f4e526ffe9a9036d4a696e7ed76185ed442f3bea13b15f317","created_at":"2026-02-20T08:00:34Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the TicketStore Dolt implementation (bb-2p9).\\n\\n## Files to Review\\n- internal/data/dolt/store.go - Main Store type\\n- internal/data/dolt/embedded.go - Embedded Dolt driver\\n- internal/data/dolt/server.go - MySQL server driver  \\n- internal/data/dolt/metadata.go - Metadata parsing\\n- internal/data/dolt/schema.go - Schema verification\\n- internal/data/dolt/*_test.go - Test coverage\\n\\n## Review Criteria\\n- Code quality and maintainability\\n- Error handling clarity\\n- Interface compliance\\n- Test coverage\\n- Documentation completeness\\n\\n## Deliverable\\nScore (0.0-10.0) and decision:\\n- Score \u003c 8.5: Create refinement ticket listing all defects\\n- Score \u003e= 8.5: Pass or optional minor cleanup","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-1t3","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Implement TicketStore Dolt backends","updated_at":"2026-02-20T08:09:16Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"All review feedback addressed: (1) Added Description() edge case tests, (2) Documented env var dependency for discover:active, (3) Added nil check for SupportedModels. All tests passing.","closed_at":"2026-03-01T12:06:10Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"3d45b7246653d98d6aa3a4d85908c99a3365bb77a8713fc89427e03707f7cc41","created_at":"2026-03-01T09:11:52Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"The harness column shows '5 models' but user has 5 providers configured with triple digits of models total. The count is wrong - it's counting provider entries instead of actual models.\n\n## Root Cause Analysis\n\nThe model count display in harness_select.go:16 uses len(i.harness.SupportedModels) which counts the raw YAML entries, not the expanded models.\n\n## Where the data flows:\n\n1. **YAML Parsing** (config/yaml.go:162): Loads raw.Models into SupportedModels\n   - If config has models: [\"provider:openai\", \"provider:anthropic\"], that's 2 entries\n   \n2. **Discovery Registry** (discovery/models.go): Has methods to expand providers:\n   - GetActiveModels() - returns all models from active providers\n   - GetModelsForProvider(id) - returns models for specific provider\n   \n3. **Display** (ui/harness_select.go:16): Just counts len(SupportedModels) without expansion\n\n## Likely Issue:\n\nThe SupportedModels slice contains provider wildcards (e.g., \"provider:openai\") that need to be resolved through the Registry, but the display code is just counting the raw entries.\n\n## Possible Fixes:\n\n1. **Pre-expand at load time**: When loading config, resolve provider:* wildcards using Registry.GetModelsForProvider()\n\n2. **Display-time expansion**: In harness_select.go, check if models contain provider: prefix and query registry for actual count\n\n3. **Store both**: Keep original config in SupportedModels, add ResolvedModels field with expanded list\n\n## Files to investigate:\n- internal/config/yaml.go - how models are loaded\n- internal/discovery/models.go - registry expansion logic  \n- internal/ui/harness_select.go - display logic\n- internal/domain/types.go - Harness struct definition\n","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-1yw","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Fix harness column model count display bug","updated_at":"2026-03-01T12:06:10Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review failed. Score 3.0/10. Remaining defects logged in round 3 refinement ticket bb-k56.","closed_at":"2026-02-28T12:32:34Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"d813c8cb78332b742c89f4a609e903ee77c838fa587fb4e2652e920d99da4c1b","created_at":"2026-02-28T11:53:36Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Second refinement of the TUI automated testing. Review score: 7.5/10 (threshold 8.5). Good progress was made, but two issues from the original review remain unresolved.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-2id","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: TUI Automated Testing (bb-vpu) -- round 2","updated_at":"2026-02-28T12:32:34Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Fixed both bugs: 1) Moved capture start from launchCmd (value receiver) to handleLaunchResult, 2) Changed viewport resize to use Width/Height instead of creating new viewport. Added test coverage.","closed_at":"2026-02-25T18:56:09Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"9b03a68cfc9db043781e2de8a12e837cc5d9eae5696ae47f57f99017ad053e48","created_at":"2026-02-25T16:11:24Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"## Critical Bug\n\nThe output capture is never stored in the model because launchCmd captures m by value:\n```go\nm.outputCapture = tmux.NewOutputCapture(...) // LOST!\n```\n\nThe capture reference is discarded when the closure returns.\n\n## Fixes Required\n\n1. **model_commands.go**: Remove capture start from launchCmd\n2. **model_update.go**: Start capture in handleLaunchResult using res.WindowID from the message\n3. **model_update.go:103-105**: Fix viewport resize to preserve content:\n   ```go\n   m.viewport.Width = m.width - 4\n   m.viewport.Height = m.height - 8\n   ```\n\n## Additional Test Coverage\n\n- Test ReadOutput with actual content\n- Test Stop without Start\n- Integration test for output streaming","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-2oc","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: Fix output capture bug and viewport resize","updated_at":"2026-02-25T18:56:09Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Implementation complete with all review issues resolved: SQL placeholders fixed, password escaping implemented, Close() tests added","closed_at":"2026-02-20T08:14:25Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"a7f85e730293fdb2a042e40e013eeb176341e8cf3cf182de0ec13382d0d8cba3","created_at":"2026-02-19T18:46:42Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Implement the TicketStore interface with two backends: Dolt embedded mode (for local beads DBs) and MySQL/Dolt server mode (for remote beads instances).\n\n## Context\n- Beads stores issues in a Dolt database. Connection mode is determined by .beads/metadata.json in the target project.\n- Embedded mode uses github.com/dolthub/driver — see tmp/store_embedded.go for reference patterns (DSN format, connector usage, pool config, backoff).\n- Server mode uses standard MySQL driver (github.com/go-sql-driver/mysql) — see tmp/server-metadata.json for connection config shape.\n- The issues table schema is in tmp/schema.go. There's also a ready_issues view that filters for unblocked work.\n- This is READ-ONLY access. Blunderbuss NEVER writes to the beads DB.\n\n## Deliverables\n\n### internal/data/dolt/embedded.go\n- newEmbeddedStore(ctx, beadsDir) — opens embedded Dolt connection\n- Read .beads/metadata.json to get database name\n- DSN: file://\u003cabs_path_to_.beads/dolt\u003e?database=\u003cdb_name\u003e (read-only, no committer needed)\n- Connection pool: MaxOpenConns=1, MaxIdleConns=1 (embedded is single-connection)\n- Implements TicketStore.ListTickets using ready_issues view\n\n### internal/data/dolt/server.go\n- newServerStore(ctx, beadsDir) — opens MySQL connection to Dolt server\n- Read .beads/metadata.json for host, port, user, database\n- Standard MySQL DSN\n- Implements TicketStore.ListTickets using ready_issues view\n\n### internal/data/dolt/store.go\n- NewStore(ctx, beadsDir) — factory that reads metadata.json, picks embedded vs server mode\n- Shared query logic (both modes use same SQL, different *sql.DB)\n- ListTickets query: SELECT from ready_issues view, map to domain.Ticket\n- Filter support: status, issue_type, search (LIKE on title), limit\n\n### Metadata parsing\n- Parse .beads/metadata.json to determine mode (check dolt_mode or presence of server fields)\n- Current project's metadata.json: {database: dolt, backend: dolt, dolt_database: beads_bb} → embedded\n- Server example: adds dolt_mode: server, dolt_server_host, dolt_server_port, dolt_server_user\n\n### Unit tests\n- Metadata parsing (embedded detection, server detection)\n- Query building with filters\n- Use sqlmock for query tests (don't require running Dolt)\n\n### CLI integration\n- --beads-dir flag (default: .beads in current directory) to locate the beads database\n- DSN override via --dsn flag for manual connection strings\n\n## Key decisions\n- Read-only: no writes, no transactions, no locking concerns\n- Use ready_issues view for the default list (shows only unblocked, non-deferred, non-ephemeral)\n- Embedded mode requires CGO (dolthub/driver uses CGO) — document this in README\n- Fail loudly with actionable errors: DB not found, connection refused, schema mismatch\n","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-2p9","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Implement TicketStore: Dolt embedded + MySQL server backends","updated_at":"2026-02-20T08:14:25Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Refactored AppOptions to domain package and updated dolt.NewStore","closed_at":"2026-02-22T10:50:42Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"26a2085b6e26520f457ab9918c92d7fa888fd0ccac8efd1ce60c9e1fac46f81e","created_at":"2026-02-22T10:32:09Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Move AppOptions from ui package to domain package to prevent circular dependencies. Update dolt.NewStore signature to accept domain.AppOptions, enabling access to global configuration like the Debug flag within the data layer.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-2wv","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refactor AppOptions to domain package and update dolt.NewStore","updated_at":"2026-02-22T10:50:42Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review completed. Refinement bb-8pd implemented, tested, and pushed.","closed_at":"2026-02-21T08:53:24Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"744907a6e372f6778109f17afcdf9197b264152830994b11090912be8de55a15","created_at":"2026-02-20T19:40:29Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the TicketStore integration implementation (bb-hbf).\n\n## Files to Review\n- cmd/blunderbuss/main.go - Flag wiring, store initialization\n- internal/ui/model.go - Loading states, error handling, refresh\n- internal/ui/ticket_list.go - Empty state handling\n- internal/ui/error.go - Error view with actionable messages\n\n## Review Criteria\n- Code quality and maintainability\n- Error handling clarity and user-friendliness\n- Async loading patterns (Bubble Tea Cmd usage)\n- UI state management (loading, error, empty states)\n- Test coverage where applicable\n\n## Deliverable\nScore (0.0-10.0) and decision:\n- Score \u003c 8.5: Create refinement ticket listing all defects\n- Score \u003e= 8.5: Pass or optional minor cleanup","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-354","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: bb-hbf Wire real TicketStore into TUI","updated_at":"2026-02-21T08:53:24Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review passed. Added godoc comment explaining 4-char alignment for tree constants. All tests passing.","closed_at":"2026-02-23T08:07:11Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"99bb65ff9a6f2b208bcd93bdb43faa0777969924693398af537c69ce180247ad","created_at":"2026-02-23T07:22:01Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the refactoring work done in bb-3w0 for sidebar styling logic deduplication.\n\nChanges to review:\n1. Added tree prefix constants (prefixExpanded, prefixCollapsed, prefixLeaf, indentString)\n2. Added shouldApplyStyle() helper method as single source of truth for cursor/focus checks\n3. Refactored renderProjectName(), renderWorktreeName(), renderHarnessName() to use the helper\n4. Deduplicated bullet indicator (●) logic in renderWorktreeName()\n\nFiles changed:\n- internal/ui/sidebar.go\n\nAcceptance criteria verification:\n- No duplicate 'if !isCursor || !m.focused' checks ✓\n- Single source of truth for cursor/focus styling logic ✓\n- All existing tests continue to pass ✓\n- Visual output unchanged ✓\n\nPlease review for code quality, maintainability, and any potential edge cases.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-3dd","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: TUI Sidebar styling logic deduplication","updated_at":"2026-02-23T08:07:11Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Project rename complete: blunderbuss→blunderbust, import paths updated, cache/config paths changed, docs updated, all tests pass","closed_at":"2026-02-22T07:05:50Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"32e16b9b4e9e6d095780c2aae5025c3f7f4b68b3a5f8e0f20f21426209e5104f","created_at":"2026-02-21T17:27:36Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Rename project object 'blunderbuss' to 'blunderbust'. Default config ~/.config/blunderbust/config.yaml. Update scripts/docs.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-3nf","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[PRO] Core: Project Rename \u0026 Config Restructure","updated_at":"2026-02-22T07:05:50Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review passed","closed_at":"2026-02-22T11:37:18Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"9a305bf02fa3b5fcb35ab525d7621e3b788e0dbba1889bf67afb33b8246312de","created_at":"2026-02-22T10:57:03Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the fix for bb-li6: Changed default Dolt server port from 3306 to 3307.\n\n## Changes to review:\n1. internal/data/dolt/server.go:81 - Changed default port from 3306 to 3307\n2. internal/data/dolt/store_test.go:504 - Updated test expectation\n\n## Why:\nDolt sql-server defaults to port 3307, not MySQL's 3306. The hardcoded default was causing connection failures when metadata.json didn't specify a port.\n\n## Files changed:\n- internal/data/dolt/server.go\n- internal/data/dolt/store_test.go","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-3va","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Fix Dolt server connection default port","updated_at":"2026-02-22T11:37:18Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Refactoring completed and reviewed successfully. All acceptance criteria met.","closed_at":"2026-02-23T08:02:08Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"b7053cf1c620cb674de781d147b1832f87de56df424ade03eb0f6fbe8aa74e79","created_at":"2026-02-22T22:27:38Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Code smell identified during review of bb-lh7 (bb-zij):\n\nThe sidebar rendering has repetitive styling logic across multiple helper methods:\n\nCurrent pattern (repeated 5 times):\n\n\nRefactoring goals:\n1. Extract common styling decision logic into a reusable helper\n2. Consider using a style selector pattern or map-based style resolution\n3. Reduce cognitive load by centralizing the 'isCursor \u0026\u0026 focused' check\n4. Maintain current behavior while improving maintainability\n\nPotential approach:\n\n\nOr consider consolidating the render methods into a single method with a type-based style lookup.\n\nAcceptance criteria:\n- No duplicate 'if !isCursor || !m.focused' checks\n- Single source of truth for cursor/focus styling logic\n- All existing tests continue to pass\n- Visual output unchanged","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-3w0","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refactor: TUI Sidebar styling logic deduplication","updated_at":"2026-02-23T08:02:08Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review completed for bb-pd5. Makefile changes approved - GOFIPS140=off correctly added to build, debug, and install targets.","closed_at":"2026-02-22T19:35:29Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"e0344dfb5edca55a1cc05dc61536a91e44c25776f09682ea77b9aa7303709c83","created_at":"2026-02-22T19:01:03Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the Makefile changes for GOFIPS140=off additions.\\n\\nChanges to review:\\n- Added GOFIPS140=off to build, debug, and install targets\\n- Verified -s -w flags were already present\\n- Tested alternative build tags (no significant impact)\\n\\nNote: Investigation revealed the 32MB FIPS buffer is in BSS (runtime memory), not binary file, so expected size reduction was not achieved.\\n\\nPlease review for:\\n1. Correctness of GOFIPS140=off placement\\n2. Code style and consistency\\n3. Any potential issues","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-3xb","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Optimize build pipeline (FIPS + ldflags)","updated_at":"2026-02-22T19:35:29Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review passed with score 9.0/10. Implementation is high quality with comprehensive test coverage, graceful error handling, and clean integration. Minor observations documented but non-blocking.","closed_at":"2026-02-25T15:49:26Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"8eb5f4b7f633e3fe90b4fe6cbf6ac92ccf050d94fc310b232725b7a6541db4ed","created_at":"2026-02-25T15:43:23Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the Dolt autodetection implementation (bb-pdn).\n\n## Files to Review\n- internal/data/dolt/metadata.go - ResolveServerPort() and detectPortFromDoltStatus() methods\n- internal/data/dolt/metadata_test.go - Test coverage for port detection\n- internal/data/dolt/store.go - Integration in NewStore()\n- internal/data/dolt/server.go - Default port fallback (3307)\n\n## Review Criteria\n- Code quality and maintainability\n- Error handling clarity\n- Test coverage completeness\n- Edge case handling (command fails, no port found, invalid port range)\n- Regex pattern correctness for both output formats\n- Integration with existing code\n\n## Deliverable\nScore (0.0-10.0) and decision:\n- Score \u003c 8.5: Create refinement ticket listing all defects\n- Score \u003e= 8.5: Pass or optional minor cleanup\n\n## Implementation Notes\n- Detects port from 'bd dolt status' output when not in metadata.json\n- Supports 'Port: XXXX' (running) and 'Expected port: XXXX' (stopped)\n- Falls back to default 3307 when detection fails","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-3yt","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: [FEATURE] Dolt autodetection","updated_at":"2026-02-25T15:49:26Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"MVP design complete (so far). Let the games begin","closed_at":"2026-02-19T20:08:13Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"2a84cd0275acb4233a2e41ac928e338681eaadcec634927597223e88e05f7bcd","created_at":"2026-02-19T16:48:33Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"### System Overview \u0026 Design Spec\nTo get from a Dolt database to a running tmux window, we need a clean pipeline. Here is the high-level architecture:\n#### 1. The Data Layer (Beads/Dolt)\nWe need to interface with the Dolt database used by Beads. Since Dolt is MySQL-compatible, we will use a standard Go SQL driver to query for:\n* **Tickets/Issues:** The active tasks you want to work on.\n* **Metadata:** Contextual info that might need to be passed to the harness (branch names, repo paths).\n#### 2. The Model Layer (Configuration)\nSince harnesses (OpenCode, Claude, etc.) change frequently, we should define them in a `config.yaml` or `config.json`. This maps a \"Harness\" to a specific shell command template.\nThe TicketID will be used in a work prompt,\n* **Attributes:** Name, Command Template (e.g., `opencode --model {{.Model}} --agent {{.Agent}}`), and supported Models/Agents.\n#### 3. The UI Layer (Bubble Tea)\nA multi-step TUI flow:\n* **List View:** Select a Ticket (filtered from Beads).\n* **Selection View:** Select Harness -\u003e Select Model -\u003e Select Agent (if applicable).\n* **Execution:** Confirm and Launch.\n#### 4. The Execution Layer (tmux/OS)\nThe Go binary will not just \"run\" a command; it will spawn a `tmux` window or pane.\n* **Command:** `tmux new-window -n \"Ticket-123\" \"harness_cmd_here\"`\n* **Tracking:** We can capture the window ID or PID if we want to monitor the process status later.\n---\n### Implementation Plan: Phase 1\nWe should start with a \"Minimum Viable Launcher\" that reads from the Dolt DB and triggers a tmux window.\n## Feature Description\nKeep this code nicely maintainable and extensible. Else it will be trashed even if it runs.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-3zg","is_template":0,"issue_type":"epic","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[FEATURE] One-shot tracer implementation","updated_at":"2026-02-19T20:08:13Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Root cause found and fixed: loadTemplateValue was incorrectly joining absolute paths with configDir. Fixed by checking filepath.IsAbs() before joining. Added test for absolute path handling.","closed_at":"2026-02-21T14:50:08Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"bea9879fa0382b7f930fb3a932d6e6e114da2b39d0bc02f6ecf468c6987c6af0","created_at":"2026-02-21T13:20:59Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"The confirm view (internal/ui/confirm.go) currently shows the rendered prompt by calling RenderSelection, which re-renders the prompt template. This may be problematic if the prompt is meant to be file-based (using @ syntax to reference external files). Need to verify: 1) Does the current implementation correctly handle file-based prompts? 2) Should the confirm view be using the already-rendered prompt from the LaunchSpec instead of re-rendering? 3) Is there an oversight in how prompts are being handled?","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-439","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Investigate confirm view's rendered prompt display behavior","updated_at":"2026-02-21T14:50:08Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"a9876f705ab56b01b06708cb784e12addf67080e91b854b8cd48076461104137","created_at":"2026-02-26T20:04:28Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-43z","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"TUI: Enable multiple projects in sidebar navigation","updated_at":"2026-02-26T20:04:28Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review complete. Score: 5.0/10. Created refinement ticket bb-gsi for missing implementation.","closed_at":"2026-02-28T19:06:07Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"e184f96773afdf736d658e74e1bb38fe2206845c96ab295372c108d1d686e35f","created_at":"2026-02-28T14:24:44Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-4hc","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: ticket bb-y22 ghost tail and quit fixes","updated_at":"2026-02-28T19:06:07Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Self-review completed: Implementation is clean, well-tested, and documented. Bug fix (absolute path handling) added. All tests pass.","closed_at":"2026-02-21T15:25:43Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"d0ffba7578f48543f702517fbeb487750b9424b9eefa18d9c247c1a5b3c2d40d","created_at":"2026-02-21T14:37:42Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Feature implementation that adds {{.Prompt}} variable to command templates.\\n\\nChanges:\\n- Added Prompt field to TemplateContext struct\\n- Modified RenderSelection to render prompt first, then command\\n- Added comprehensive tests for new functionality\\n- Updated README.md documentation\\n\\nAll tests pass, backward compatibility verified.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-4o9","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Make rendered prompt available as {{.Prompt}} in command templates","updated_at":"2026-02-21T15:25:43Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Dolt journal was broken. Old ticket was revived","closed_at":"2026-02-25T15:39:48Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"05a836748567c7707f46aced3c98dca7f8894e90b54f0a0d0dda981abddd64e1","created_at":"2026-02-23T09:12:28Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Code review findings from sidebar restoration (c39a14f re-applied to HEAD):\n\n1. **WorkDir mismatch (MEDIUM)**: confirmView receives raw m.selectedWorktree (may be empty), but launchCmd falls back to project root when empty. User sees no WorkDir in confirm screen but launch uses a fallback. Fix: resolve workDir once and use consistently.\n\n2. **Repo root resolution duplication (LOW)**: beadsDir-to-project-root logic duplicated in discoverWorktreesCmd and launchCmd. Extract to a helper.\n\n3. **Sidebar encapsulation leak (MEDIUM)**: handleEnterKey in UIModel manually calls sidebar.State().ToggleExpand(), duplicating SidebarModel's own handleSelect logic. Delegate to sidebar.Update instead.\n\nRelated: park_refactor branch has a partial dedup refactor already.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-58l","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: Sidebar integration workDir inconsistency and duplication","updated_at":"2026-02-25T15:39:48Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-03-01T09:37:18Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"649f5b14ede3054a3acb3e052f333072eec36f2954d06c33b67c504c2e91c4a3","created_at":"2026-03-01T09:37:08Z","created_by":"","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-5hr","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"test 1772357827","updated_at":"2026-03-01T09:37:18Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Reviewed and approved by bb-0qx","closed_at":"2026-02-26T19:22:10Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"42c8241393a84808aab8d0eca39b939b66b87766dfc78e8ee8ef88fb5bc6fd95","created_at":"2026-02-26T15:38:21Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Replace the \"finished\" screen with inline agent status display in the sidebar.\n\n## Current Behavior\nAfter launching an agent, the UI shows a dedicated \"finished\" screen with:\n- A status indicator (green/red/white dot)\n- Agent output/log display\n- Requires navigating away to see other agents\n\n## Desired Behavior\n1. **Remove the finished screen entirely**\n2. **Show running/completed agents inline in the sidebar** with status indicators\n   - Green dot (●): Running agent\n   - Red dot (●): Failed agent\n   - White dot (●): Completed/finished agent\n3. **Return to main screen after launch** (no screen transition)\n4. **View agent output via tmux tail** - when selecting a completed/running agent, show output in a dedicated tmux pane or window\n\n## Implementation Notes\n\n### Status Indicators\nUse the same indicator pattern as worktrees:\n- runningStyle (green) - for agents actively running\n- failedStyle (red) - for agents that failed\n- completedStyle (white/grey) - for agents that finished successfully\n\n### Sidebar Integration\nExtend the SidebarNode structure to support agent nodes:\n- Add `NodeTypeAgent` to domain/sidebar.go\n- Add `AgentInfo` struct with status, command, output fields\n- Render agents as children of worktree nodes (parallel to harness nodes)\n\n### Tmux Integration\n- Use `tmux capture-pane -p \u003cwindow-name\u003e` for tail-like output viewing\n- Consider a split-pane layout: sidebar (left) + agent output (right)\n- Output pane shows the selected agent's tail\n\n### Data Flow\n- AgentManager should emit AgentStatusMsg updates\n- Sidebar listens for status updates and re-renders\n- Agent status includes: running, success, failed\n\n## Acceptance Criteria\n- [ ] Finished screen completely removed\n- [ ] Agents appear in sidebar under their worktree\n- [ ] Status indicators (green/red/white dots) display correctly\n- [ ] Selecting an agent shows its output (tmux tail)\n- [ ] Main screen returns automatically after launch\n- [ ] Multiple agents can be tracked simultaneously\n- [ ] Agent status updates in real-time\n\n## Related Files\n- internal/ui/sidebar.go (extend for agent nodes)\n- internal/domain/sidebar.go (add AgentInfo type)\n- internal/ui/agent.go (likely needs status tracking)\n- cmd/blunderbust/main.go (remove finished screen logic)","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-5o7","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"Implementation complete. Awaiting review in bb-0qx.","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Feature: Show running agents in sidebar with status indicators","updated_at":"2026-02-26T19:22:10Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Feature implemented and verified.","closed_at":"2026-02-22T15:15:49Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"2471a8ddf448b84496b863906bfc69a1b47e060f47cd3e777bff084a48256e3c","created_at":"2026-02-22T12:43:15Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"VHS is a tool by charmbracelet (github.com/charmbracelet/vhs) that generates movies from executed shell sessions. \nAt least those model that can ingest images can profit from the TUI being saved as an image in its rendered form.\n## Task Description\nFigure out a way (do we need a script, will a hint in the ./.beads/PRIME.md do, do we need an MCP) that allows models to quickly check how the app currently looks.\n`vhs` can output frames as images if you give it a directory (there was some quirk about it having to be relative or something)\nYou could also try using vhs's API since it's written in GO\n## Why is this needed?\nI believe that I'm underutilizing the design capabilities and also taste of Gemini and other multimodal models\n## Acceptance Criteria\n- [ ] Some kind of enhancement allows models to easily \"look\" at the TUI ","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-5zx","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[CHORE] Add helper function with VHS","updated_at":"2026-02-22T15:15:49Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Fixed all refinement issues: implemented sync.RWMutex, HTTP timeout with retry, cache corruption recovery, test isolation, context support, and cleaned up magic strings.","closed_at":"2026-02-21T21:38:58Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"382d291281c36bf9d1df6e7e0c85346efa71dbc01d8c4a2b0100eb37fa09efe5","created_at":"2026-02-21T21:28:36Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Critical issues found in bb-0ce review (bb-0lc):\n\n**Critical (Must Fix):**\n1. **Race Condition** - Registry.Providers map accessed concurrently without sync.RWMutex\n2. **HTTP Timeout Missing** - Refresh() uses naked http.Get(), can hang indefinitely\n\n**High Priority:**\n3. **Cache Corruption** - No handling for malformed/corrupted cache files\n4. **Silent UI Failures** - Load() errors silently swallowed in UI Init()\n\n**Medium Priority:**  \n5. **Test Isolation** - Tests modify global os.Setenv without proper cleanup/parallel safety\n6. **Missing Error Tests** - No HTTP error path, cache read error, or JSON decode error tests\n\n**Low Priority:**\n7. **Context Support** - Refresh() doesn't accept context.Context for cancellation\n8. **Ignored Error** - os.UserHomeDir() error ignored on line 36\n\n**Code Quality:**\n9. **Commit Scope Creep** - Launcher changes unrelated to model discovery\n10. **Missing Validation** - No JSON structure validation beyond basic decode\n11. **Magic Strings** - \"discover:active\" pattern scattered in code\n12. **Documentation** - Provider struct fields need better documentation\n\n**Acceptance Criteria:**\n- go test -race ./internal/discovery/... passes\n- HTTP client has 30s timeout with retry logic\n- Cache file corruption returns error (not panic)\n- All error paths have test coverage\n- Context.Context supported throughout","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-64l","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: Model Discovery Race Condition \u0026 HTTP Timeout","updated_at":"2026-02-21T21:38:58Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review passed - implementation approved","closed_at":"2026-02-21T10:42:33Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"88ab1d33861248074a782de0dd326b546cc617e4b97c098db91c1f5487b7e187","created_at":"2026-02-21T10:36:36Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review implementation of file-based template loading feature (ticket bb-9by)\n\nImplementation adds:\n- @./ syntax to load templates from external files\n- loadTemplateValue() function for file loading\n- Path resolution relative to config file\n- Comprehensive test coverage\n- Updated documentation in config.example.yaml\n\nKey changes:\n- internal/config/yaml.go: Load, convertAndValidate, convertHarness modified\n- internal/config/yaml_test.go: 5 new test functions added\n- config.example.yaml: Documentation and example added","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-69n","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Add file-based template loading with @./templates/ syntax","updated_at":"2026-02-21T10:42:33Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Fixed all 4 defects: added godoc, implemented IsRunning indicator, added handleSelect tests, added nil checks","closed_at":"2026-02-22T22:45:14Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"56e6c96dfb47bccc4a39d2a23427e68d74642cc96ae746770aa076d59dc4ec55","created_at":"2026-02-22T22:27:34Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Minor defects found during review of bb-lh7 (bb-zij):\n\n1. Missing doc comments on exported functions:\n   - All public methods on SidebarModel need godoc comments\n   - Key bindings struct and exported types need documentation\n\n2. IsRunning field is set but never used:\n   - SidebarNode.IsRunning is defined but never referenced in View() or styling\n   - Either remove unused field or implement visual indicator for running worktrees\n\n3. Missing test coverage for handleSelect():\n   - No tests for selecting different node types (project, worktree, harness)\n   - Need tests for SelectWorktreeCmd emission\n   - Need tests for ToggleExpand behavior on project nodes\n\n4. Potential nil pointer issues:\n   - renderWorktreeName checks node.WorktreeInfo != nil but other methods don't\n   - Add defensive checks for consistency\n\nAcceptance criteria:\n- Add godoc comments to all exported functions\n- Either implement IsRunning indicator or remove the field\n- Add unit tests for handleSelect() scenarios\n- Ensure consistent nil checks","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-6ay","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: TUI Sidebar minor defects","updated_at":"2026-02-22T22:45:14Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"sloth","await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-03-01T12:58:43Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"f3a034b981951c23d6f8d0eb1f6d814abe75dd53caa60be8d068ccf5bb92c1dc","created_at":"2026-03-01T09:08:44Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"# Auto-refresh UI on Dolt Changes\n\n## Problem\nCurrently, when tickets/issues are created or updated in the Dolt database (e.g., via , No updates specified, etc.), the UI doesn't automatically reflect these changes. Users have to manually refresh or restart the application to see updates.\n\n## Proposed Solution\nImplement automatic UI refresh when Dolt database changes are detected.\n\n## Technical Approaches to Consider\n\n### Option 1: File Watcher\nWatch the  directory or Dolt files for changes using fsnotify or similar. When changes are detected, trigger a UI refresh.\n\nPros:\n- Simple to implement\n- Works across all platforms\n\nCons:\n- May trigger too frequently during batch operations\n- Need debouncing logic\n\n### Option 2: Dolt Event Stream\nIf Dolt supports events/notifications, subscribe to changes at the database level.\n\nPros:\n- More precise - only reacts to actual data changes\n- Less filesystem overhead\n\nCons:\n- Depends on Dolt capabilities\n- May require polling if no native event support\n\n### Option 3: IPC/Signal from bd CLI\nWhen Issues chained together like beads. A lightweight issue tracker with first-class dependency support.\n\nUsage:\n  bd [flags]\n  bd [command]\n\nMaintenance:\n  rename-prefix    Rename the issue prefix for all issues in the database\n\nIntegrations \u0026 Advanced:\nWorking With Issues:\n  children         List child beads of a parent\n  close            Close one or more issues\n  comments         View or manage comments on an issue\n  create           Create a new issue (or multiple issues from markdown file)\n  create-form      Create a new issue using an interactive form\n  delete           Delete one or more issues and clean up references\n  edit             Edit an issue field in $EDITOR\n  gate             Manage async coordination gates\n  label            Manage issue labels\n  list             List issues\n  merge-slot       Manage merge-slot gates for serialized conflict resolution\n  move             Move an issue to a different rig with dependency remapping\n  promote          Promote a wisp to a permanent bead\n  q                Quick capture: create issue and output only ID\n  query            Query issues using a simple query language\n  refile           Move an issue to a different rig\n  reopen           Reopen one or more closed issues\n  search           Search issues by text query\n  set-state        Set operational state (creates event + updates label)\n  show             Show issue details\n  state            Query the current value of a state dimension\n  todo             Manage TODO items (convenience wrapper for task issues)\n  update           Update one or more issues\n\nViews \u0026 Reports:\n  count            Count issues matching filters\n  diff             Show changes between two commits or branches (requires Dolt backend)\n  find-duplicates  Find semantically similar issues using text analysis or AI\n  history          Show version history for an issue (requires Dolt backend)\n  lint             Check issues for missing template sections\n  stale            Show stale issues (not updated recently)\n  status           Show issue database overview and statistics\n  types            List valid issue types\n\nDependencies \u0026 Structure:\n  dep              Manage dependencies\n  duplicate        Mark an issue as a duplicate of another\n  duplicates       Find and optionally merge duplicate issues\n  epic             Epic management commands\n  graph            Display issue dependency graph\n  supersede        Mark an issue as superseded by a newer one\n  swarm            Swarm management for structured epics\n\nSync \u0026 Data:\n  branch           List or create branches (requires Dolt backend)\n  federation       Manage peer-to-peer federation with other Gas Towns\n  restore          Restore full history of a compacted issue from Dolt history\n  sync             Deprecated: use 'bd dolt push' and 'bd dolt pull' instead\n  vc               Version control operations (requires Dolt backend)\n\nSetup \u0026 Configuration:\n  config           Manage configuration settings\n  dolt             Configure Dolt database settings\n  hooks            Manage git hooks for bd auto-sync\n  human            Show essential commands for human users\n  info             Show database information\n  init             Initialize bd in the current directory\n  kv               Key-value store commands\n  onboard          Display minimal snippet for AGENTS.md\n  prime            Output AI-optimized workflow context\n  quickstart       Quick start guide for bd\n  setup            Setup integration with AI editors\n  where            Show active beads location\n\nMaintenance:\n  doctor           Check and fix beads installation health (start here)\n  migrate          Database migration commands\n  preflight        Show PR readiness checklist\n  sql              Execute raw SQL against the beads database\n  upgrade          Check and manage bd version upgrades\n  worktree         Manage git worktrees for parallel development\n\nIntegrations \u0026 Advanced:\n  admin            Administrative commands for database maintenance\n  jira             Jira integration commands\n  linear           Linear integration commands\n  repo             Manage multiple repository configuration\n\nAdditional Commands:\n  agent            Manage agent bead state\n  audit            Record and label agent interactions (append-only JSONL)\n  blocked          Show blocked issues\n  completion       Generate the autocompletion script for the specified shell\n  cook             Compile a formula into a proto (ephemeral by default)\n  defer            Defer one or more issues for later\n  formula          Manage workflow formulas\n  gitlab           GitLab integration commands\n  help             Help about any command\n  mail             Delegate to mail provider (e.g., gt mail)\n  mol              Molecule commands (work templates)\n  orphans          Identify orphaned issues (referenced in commits but still open)\n  ready            Show ready work (open, no active blockers)\n  rename           Rename an issue ID\n  ship             Publish a capability for cross-project dependencies\n  slot             Manage agent bead slots\n  undefer          Undefer one or more issues (restore to open)\n  version          Print version information\n\nFlags:\n      --actor string              Actor name for audit trail (default: $BD_ACTOR, git user.name, $USER)\n      --allow-stale               Allow operations on potentially stale data (skip staleness check)\n      --db string                 Database path (default: auto-discover .beads/*.db)\n      --dolt-auto-commit string   Dolt auto-commit policy (off|on|batch). 'on': commit after each write. 'batch': defer commits to bd sync / bd dolt commit; uncommitted changes persist in the working set until then. SIGTERM/SIGHUP flush pending batch commits. Default: off. Override via config key dolt.auto-commit\n  -h, --help                      help for bd\n      --json                      Output in JSON format\n      --profile                   Generate CPU profile for performance analysis\n  -q, --quiet                     Suppress non-essential output (errors only)\n      --readonly                  Read-only mode: block write operations (for worker sandboxes)\n      --sandbox                   Sandbox mode: disables auto-sync\n  -v, --verbose                   Enable verbose/debug output\n  -V, --version                   Print version information\n\nUse \"bd [command] --help\" for more information about a command. commands modify the database, send a signal or write to a known location that the UI can watch.\n\nPros:\n- Explicit notification\n- Can include change metadata\n\nCons:\n- Requires coordination between CLI and UI\n- Cross-platform signal handling complexity\n\n## Implementation Notes\n- Should debounce rapid changes (e.g., batch ✓ Closed bb-ldu: Closed operations)\n- Consider showing a subtle indicator that new data is available\n- Gracefully handle refresh failures\n\n## Acceptance Criteria\n- [ ] UI automatically updates when tickets are created/modified externally\n- [ ] No manual refresh required to see changes from Issues chained together like beads. A lightweight issue tracker with first-class dependency support.\n\nUsage:\n  bd [flags]\n  bd [command]\n\nMaintenance:\n  rename-prefix    Rename the issue prefix for all issues in the database\n\nIntegrations \u0026 Advanced:\nWorking With Issues:\n  children         List child beads of a parent\n  close            Close one or more issues\n  comments         View or manage comments on an issue\n  create           Create a new issue (or multiple issues from markdown file)\n  create-form      Create a new issue using an interactive form\n  delete           Delete one or more issues and clean up references\n  edit             Edit an issue field in $EDITOR\n  gate             Manage async coordination gates\n  label            Manage issue labels\n  list             List issues\n  merge-slot       Manage merge-slot gates for serialized conflict resolution\n  move             Move an issue to a different rig with dependency remapping\n  promote          Promote a wisp to a permanent bead\n  q                Quick capture: create issue and output only ID\n  query            Query issues using a simple query language\n  refile           Move an issue to a different rig\n  reopen           Reopen one or more closed issues\n  search           Search issues by text query\n  set-state        Set operational state (creates event + updates label)\n  show             Show issue details\n  state            Query the current value of a state dimension\n  todo             Manage TODO items (convenience wrapper for task issues)\n  update           Update one or more issues\n\nViews \u0026 Reports:\n  count            Count issues matching filters\n  diff             Show changes between two commits or branches (requires Dolt backend)\n  find-duplicates  Find semantically similar issues using text analysis or AI\n  history          Show version history for an issue (requires Dolt backend)\n  lint             Check issues for missing template sections\n  stale            Show stale issues (not updated recently)\n  status           Show issue database overview and statistics\n  types            List valid issue types\n\nDependencies \u0026 Structure:\n  dep              Manage dependencies\n  duplicate        Mark an issue as a duplicate of another\n  duplicates       Find and optionally merge duplicate issues\n  epic             Epic management commands\n  graph            Display issue dependency graph\n  supersede        Mark an issue as superseded by a newer one\n  swarm            Swarm management for structured epics\n\nSync \u0026 Data:\n  branch           List or create branches (requires Dolt backend)\n  federation       Manage peer-to-peer federation with other Gas Towns\n  restore          Restore full history of a compacted issue from Dolt history\n  sync             Deprecated: use 'bd dolt push' and 'bd dolt pull' instead\n  vc               Version control operations (requires Dolt backend)\n\nSetup \u0026 Configuration:\n  config           Manage configuration settings\n  dolt             Configure Dolt database settings\n  hooks            Manage git hooks for bd auto-sync\n  human            Show essential commands for human users\n  info             Show database information\n  init             Initialize bd in the current directory\n  kv               Key-value store commands\n  onboard          Display minimal snippet for AGENTS.md\n  prime            Output AI-optimized workflow context\n  quickstart       Quick start guide for bd\n  setup            Setup integration with AI editors\n  where            Show active beads location\n\nMaintenance:\n  doctor           Check and fix beads installation health (start here)\n  migrate          Database migration commands\n  preflight        Show PR readiness checklist\n  sql              Execute raw SQL against the beads database\n  upgrade          Check and manage bd version upgrades\n  worktree         Manage git worktrees for parallel development\n\nIntegrations \u0026 Advanced:\n  admin            Administrative commands for database maintenance\n  jira             Jira integration commands\n  linear           Linear integration commands\n  repo             Manage multiple repository configuration\n\nAdditional Commands:\n  agent            Manage agent bead state\n  audit            Record and label agent interactions (append-only JSONL)\n  blocked          Show blocked issues\n  completion       Generate the autocompletion script for the specified shell\n  cook             Compile a formula into a proto (ephemeral by default)\n  defer            Defer one or more issues for later\n  formula          Manage workflow formulas\n  gitlab           GitLab integration commands\n  help             Help about any command\n  mail             Delegate to mail provider (e.g., gt mail)\n  mol              Molecule commands (work templates)\n  orphans          Identify orphaned issues (referenced in commits but still open)\n  ready            Show ready work (open, no active blockers)\n  rename           Rename an issue ID\n  ship             Publish a capability for cross-project dependencies\n  slot             Manage agent bead slots\n  undefer          Undefer one or more issues (restore to open)\n  version          Print version information\n\nFlags:\n      --actor string              Actor name for audit trail (default: $BD_ACTOR, git user.name, $USER)\n      --allow-stale               Allow operations on potentially stale data (skip staleness check)\n      --db string                 Database path (default: auto-discover .beads/*.db)\n      --dolt-auto-commit string   Dolt auto-commit policy (off|on|batch). 'on': commit after each write. 'batch': defer commits to bd sync / bd dolt commit; uncommitted changes persist in the working set until then. SIGTERM/SIGHUP flush pending batch commits. Default: off. Override via config key dolt.auto-commit\n  -h, --help                      help for bd\n      --json                      Output in JSON format\n      --profile                   Generate CPU profile for performance analysis\n  -q, --quiet                     Suppress non-essential output (errors only)\n      --readonly                  Read-only mode: block write operations (for worker sandboxes)\n      --sandbox                   Sandbox mode: disables auto-sync\n  -v, --verbose                   Enable verbose/debug output\n  -V, --version                   Print version information\n\nUse \"bd [command] --help\" for more information about a command. commands\n- [ ] Performance impact is minimal\n- [ ] Works on Linux, macOS, and ideally Windows\n\n## Related\n- This would improve the workflow where agents create/update tickets while the UI is running\n- Could enable collaborative features in the future\n","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-6dp","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Auto-refresh UI on Dolt changes","updated_at":"2026-03-01T12:58:43Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"b3280a6394787c917cf09a92bfde466718681ad6b44911c1c04bf74ffd88a6f6","created_at":"2026-02-21T17:27:36Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Transition from Mk0 wizard to concurrent Command Center. Features grid selection, dynamic filtering, ghost tail output, and model discovery context.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-6gp","is_template":0,"issue_type":"epic","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Epic: Blunderbust Proto-Mk1 (The Arcade Dashboard)","updated_at":"2026-02-21T17:27:36Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-20T19:45:32Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"5b73024503b9d95887d541266ab8794bcc28b7fe8d2af350c2b31039917643b8","created_at":"2026-02-20T18:21:21Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Replace the fake Launcher with the real internal/exec/tmux Launcher.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-7ah","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Implement real tmux Launcher","updated_at":"2026-02-20T19:45:32Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review passed - score 8.5/10. All functionality implemented correctly. Minor lint issues tracked in bb-btg.","closed_at":"2026-02-21T09:47:44Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"37a57adc5209cc9544396189f55cbd1d480695067bc02609a75f8471f486633e","created_at":"2026-02-21T09:38:19Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-7cv","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Wire config loader + tmux launcher into TUI (bb-nds)","updated_at":"2026-02-21T09:47:44Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Duplicate - bb-2id is the active refinement ticket","closed_at":"2026-02-28T12:00:29Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"989ae5e87c3308168749267fd01b58da46889b0d315857c19ac676b177023975","created_at":"2026-02-28T11:55:26Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-7jv","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: TUI Automated Testing (bb-vpu) -- round 2","updated_at":"2026-02-28T12:00:29Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review passed (8.8/10). One minor gap: no duplicate harness name validation. Not blocking - code is clean, well-tested (98.2% coverage), staticcheck clean.","closed_at":"2026-02-19T21:59:15Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"c15063e94781e95182748fb56b9efb78a4a54441b8882610468fe372cdb89bf0","created_at":"2026-02-19T21:51:16Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-7ov","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Config YAML loader with validation and template rendering","updated_at":"2026-02-19T21:59:15Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Fix reviewed and approved (ticket bb-bz9). Keyboard navigation and harness selection flow now work correctly.","closed_at":"2026-02-21T10:37:06Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"750e7e0f7f949444d601190193a28e7589a7489e06665b654117d012f7ff14c2","created_at":"2026-02-21T10:19:23Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"1. When starting the app the tickets are shown but no key does anything apart from q and enter. j/k, up/down, / - nothing moves anything\n2. When pressing enter we immediately go to the ready to launch screen with no harness selected.\n  - Skipping the harness selection is of course wrong\n  - Entering the ready screen without a harness selected is an illegal state transition\n  - Esc then brings us to the harness selection. Still no up/down but enter gets us through all menus and launches the harness\n## Expected Behavior\nup/down and everything shown at the bottom keyboard hints works","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-7rx","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[BUG] UI flow broken","updated_at":"2026-02-21T10:37:06Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Complete: All deliverables implemented and documented. Refinement bb-bbf also resolved.","closed_at":"2026-02-21T11:49:01Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"4e7466be5eca929f3d69221d96b96c2cd1699331591529c092047566aca4b71b","created_at":"2026-02-19T18:48:22Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Make the MVP usable by someone who wasn't involved in building it.\n\n## Deliverables\n\n### config.example.yaml\n- Working example with 3+ real harnesses (opencode, amp, claude-code or similar)\n- Commented with explanation of each field\n- Shows command_template and prompt_template patterns\n\n### README.md (full rewrite)\n- Project description: what blunderbuss is (beads-integrated TUI launcher for AI coding harnesses)\n- Prerequisites: Go, tmux, beads project with Dolt DB\n- Build instructions\n- Usage: basic flow, flags reference\n- Config file format and location\n- DSN/connection modes (embedded vs server)\n- Running inside tmux (requirement)\n- Dry-run mode\n- Troubleshooting: common errors and fixes\n- Future: mention quickdraw/blitzdraw/x-draw as planned features\n\n### CLI polish\n- Exit codes: 0=success, 1=general error, 2=config error, 3=no tmux\n- --help output is clean and informative\n- --version flag (embed via ldflags or just hardcode v0.1.0)\n\n### AGENTS.md update\n- Add blunderbuss-specific build/run/test instructions for agents working on this codebase\n\n## Key decisions\n- README is the onboarding doc — it should be complete enough to go from clone to launch\n- Example config uses real harness names people will actually use","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-81z","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Polish: README, example config, troubleshooting, exit codes","updated_at":"2026-02-21T11:49:01Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Dolt journal was broken. Old ticket was revived","closed_at":"2026-02-25T15:39:17Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"706d66687e723379571454459233be810fc6fc5d72f0ff9d48961040b9d79150","created_at":"2026-02-23T08:30:24Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the decomposition of model.go (776 lines) into 6 focused files. Check for: code quality, proper imports, clear cohesion, no regressions (tests pass).","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-8p8","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Refactor model.go","updated_at":"2026-02-25T15:39:17Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"All defects fixed:\\n1. Resource leak - Added defer app.Close() in main.go and Close() method in app.go\\n2. Blocking initialization - Moved store creation to async Init() in TUI model, errors now display in errorView\\n3. Unused --dsn flag - Removed from flags\\n4. All tests pass, code formatted and vetted","closed_at":"2026-02-20T19:49:53Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"cf22faf717bf9e5a18e17903d0544ff1f341d5be7da3d03f9c26f8011930ed09","created_at":"2026-02-20T19:46:02Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Critical and significant issues found in bb-hbf TicketStore integration review (score 7.5/10).\n\n## Defects to Fix\n\n### Critical\n1. **Resource leak** (cmd/blunderbuss/main.go:123-134)\n   - Store is never closed. No defer store.Close()\n   - Will leak database connections\n\n### Significant\n2. **Blocking initialization** (cmd/blunderbuss/main.go:123-133)\n   - Store creation is synchronous before TUI starts\n   - If connection fails, user sees stderr only, not TUI error screen\n   - Spec required graceful error handling through UI (errorView)\n   - Should create store async or defer errors to TUI\n\n3. **Unused flag** (cmd/blunderbuss/main.go:63)\n   - `--dsn` flag defined but never used in store creation\n   - Either wire it into dolt.NewStore or remove it\n\n### Minor (Optional)\n4. **No test coverage**\n   - No tests for store initialization\n   - No tests for async loading patterns\n   - No tests for error state transitions\n   - No tests for empty state handling\n\n## Expected Behavior\n- Store is properly closed on exit\n- Connection errors display in TUI error screen (errorView)\n- All flags are functional or removed","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-8pd","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: Fix TicketStore integration issues","updated_at":"2026-02-20T19:49:53Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review passed. Verified screenshot generation works with VHS and ttyd.","closed_at":"2026-02-22T15:15:48Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"f74f14c4741ab7e83432590182f9385ef627451e5d231d56c1eb3a04f8225671","created_at":"2026-02-22T13:40:21Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-91m","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Add helper function with VHS","updated_at":"2026-02-22T15:15:48Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Fixed: keybinding logic moved to Update(), color constants added, tests added","closed_at":"2026-02-21T22:56:11Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"8f78ed66d0ba7317ccc4aaac6fcfe329498a93435508276d8a7ed3b22b8adda2","created_at":"2026-02-21T22:52:01Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Issues found in bb-va5 review (score 8.0/10):\n\n**Medium Priority:**\n1. Value receiver mutation in View() (model.go:481-492) - View() has value receiver but calls SetEnabled() on keys. Refactor to use updateKeyBindings() method called from Update() instead of View().\n\n2. Magic color numbers (model.go:496-497) - Add named constants for footer colors (e.g., footerBgColor, footerFgColor).\n\n3. No test coverage - Add basic tests for KeyMap struct and View rendering.\n\n**Low Priority:**\n4. Hardcoded footer height (model.go:300) - Consider calculating actual footer height or using a constant with explanation.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-92q","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: TUI Base Layout code quality","updated_at":"2026-02-21T22:56:11Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Fixed. Awaiting review","closed_at":"2026-02-27T09:40:19Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"3a419c11fc3bf1eea08f3df615e11466be1030d9f97cf0b1d7736dcfed391225","created_at":"2026-02-26T19:47:20Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"The tmux output streaming (Ghost Tail) implementation is complete but not functional. When launching an agent, the output capture starts but never receives any data.\n\n## Current Behavior\n- Agent launches successfully\n- OutputCapture is created and Start() is called\n- Temp file is created\n- pipe-pane command executes without error\n- Output view shows 'Waiting for output...' indefinitely\n- No output is ever captured\n\n## Expected Behavior\n- Agent output should be streamed to the temp file via pipe-pane\n- Output should appear in the agent view when selecting the agent\n\n## Implementation Details\nLocated in: internal/exec/tmux/capture.go\n\nThe capture uses:\n```go\npipeCmd := fmt.Sprintf('cat \u003e\u003e %s', tempFile.Name())\n_, err = c.runner.Run(ctx, 'tmux', 'pipe-pane', '-t', c.windowID, pipeCmd)\n```\n\n## Potential Root Causes\n1. **Window target issue**: Window ID might not be valid/resolvable when pipe-pane runs\n   - Currently falls back to window name if ID is empty\n   - May need to use different target format (@N vs window name)\n\n2. **Tmux version differences**: Different tmux versions handle pipe-pane differently\n   - Some versions may require -I flag\n   - Target syntax might vary\n\n3. **Shell escaping**: The 'cat \u003e\u003e file' command might need different quoting\n   - Special characters in file path could break the command\n   - May need to wrap in shell invocation\n\n4. **Timing issue**: pipe-pane might run before window is fully ready\n   - Could add a small delay after window creation\n   - Or retry mechanism\n\n5. **Target window not active**: pipe-pane might only work on active/visible panes\n   - Check if window needs to be selected first\n   - Try using pane ID instead of window ID\n\n## Debugging Steps\n1. Add logging to see exact tmux command being run\n2. Verify window ID format (should be like @1, @2, etc.)\n3. Test pipe-pane manually: tmux pipe-pane -t @1 'cat \u003e\u003e /tmp/test.log'\n4. Check if file permissions are correct\n5. Verify the runner is executing commands in the right tmux session\n\n## Files Affected\n- internal/exec/tmux/capture.go (Start method)\n- internal/ui/model_update.go (agent launch flow)\n\n## Acceptance Criteria\n- [ ] Agent output is captured and displayed\n- [ ] Output updates in real-time for running agents\n- [ ] Output shows correctly for completed agents\n- [ ] Works across different tmux versions\n- [ ] Gracefully handles edge cases (window closed, errors, etc.)","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-934","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Bug: Ghost tail (tmux pipe-pane) not capturing window output","updated_at":"2026-02-27T09:40:19Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Fixed debug logging, code formatting, and documentation","closed_at":"2026-02-22T10:50:12Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"850737a02e772ccb2a9b6d421ed06032a536d7bfc58c8d10a17df8585d729333","created_at":"2026-02-22T10:44:20Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Fix issues found in review bb-12u of bb-2wv:\n\n1. Debug Logging Inconsistency (Medium): Replace direct fmt.Fprintf calls with proper debug flag checks. Currently debug output is unconditionally written to stderr. Should only print when opts.Debug is true.\n\n2. Code Formatting (Minor): ListTickets signature has unnecessary multi-line formatting that reduces readability. Restore to single-line format.\n\n3. Documentation Inconsistency (Minor): internal/data/dolt/doc.go changed error handling comment, inconsistent with other examples. Restore to return err for consistency.\n\nAll issues are in the dolt package refactor work.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-98r","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: Fix debug logging, formatting, and documentation in dolt.NewStore refactor","updated_at":"2026-02-22T10:50:12Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-27T10:50:36Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"0206c3fae7b170d77a0370575f3e82b04481da0a03f9253925d7f0e63b316551","created_at":"2026-02-27T10:04:55Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"The UI currently renders main content with m.height, then adds a footer and margins, resulting in a total height greater than the terminal window. This causes the top of the app to be pushed off-screen (head cut off) in some environments. mainContent height should be adjusted to (m.height - footerHeight - verticalMargins).","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-9bq","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"Fixed by Opus 4.6. Four root causes addressed: (1) Removed double-counted vertical margins, (2) Added updateSizes() call after ticket load, (3) Added MaxHeight to prevent overflow, (4) Added MaxWidth/MaxHeight constraints to list views. Verified working via agent-tui.","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Fix general UI over-rendering by accounting for footer and margins","updated_at":"2026-02-27T10:50:36Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-21T10:42:33Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"96641b17d452bc4bc5cd2b38ffbdec1105fdf6cdcff732a468b8281ff6bfaa3e","created_at":"2026-02-21T10:27:38Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Allow command_template and prompt_template to reference external files instead of inline strings.\\n\\n## Problem\\nCurrently, template values are inline strings in the YAML config. This is limiting for:\\n- Long or complex prompts that need to be externalized\\n- Reusable templates across multiple harnesses\\n- Better separation of concerns between config and templates\\n\\n## Proposed Solution\\n- Support '@./templates/...' syntax in command_template and prompt_template fields\\n- When '@' prefix is detected, read file content from the path after the '@'\\n- Strip the '@' prefix and load the file content\\n- If file doesn't exist or can't be read, return an actionable error\\n\\n## Example Usage\\n\\n\\n\\nOr if you want to keep the string format:\\n\\n\\n## Implementation Notes\\n- Parse template values in the YAML loader or config structure\\n- Load file content during config initialization or harness selection\\n- Handle file paths relative to the config file location\\n- Error messages should be clear: 'Failed to load template file: @./templates/claude_prompt.txt (file not found)'\\n\\n## Testing\\n- Add tests for valid file references\\n- Add tests for missing files\\n- Add tests for malformed template syntax","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-9by","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add file-based template loading with @./templates/ syntax","updated_at":"2026-02-21T10:42:33Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Approved and merged","closed_at":"2026-02-22T17:02:18Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"09c71bf3a7f15eea164493ef9db96c4f8708c5d09d71ce11a9f9f8384875c4dc","created_at":"2026-02-22T11:44:09Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the structural implementation of bb-bc0 (Arcade Select Matrix in model.go). Focus on: 4-column lipgloss grid, Keyboard navigation (Left/Right), dynamic width reallocation \u0026 UI state (ViewState/FocusColumn), Sidebar toggling ('p'), and disabled item counts.\nCAUTION: so mongrel already committed internal/ui/model.go so you'll to work with the diff or however you see fit to see the changes.\n\n","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-9x2","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Arcade Select Layout \u0026 Navigation Base","updated_at":"2026-02-22T17:02:18Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Fixed all MUST and SHOULD criteria (Semantic colors, modal dimming, border Faint inheritance fixed, responsive modal). Note: used AdaptiveColor but retained user's explicit  and  footer choice per prior instruction.","closed_at":"2026-02-22T16:34:31Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"a4497b604270adc132e9dcbc0ee0813b7d8994f706e5d6358f561baf19581b18","created_at":"2026-02-22T16:29:58Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Fix visual polish issues identified in review bb-nvr:\n\nMUST FIX:\n1. Theme-aware color system:\n   - Extract colors to semantic constants (ActiveBorder, InactiveBorder, FooterBg, FooterFg)\n   - Add fallback for 256-color terminals\n   - Consider adding theme support or using lipgloss.AdaptiveColor\n\n2. Fix modal background:\n   - Add dimming/opacity layer behind modal when open\n   - Modal should overlay dimmed background for better focus\n\nSHOULD FIX:\n3. Separate border/content dimming:\n   - Inactive column borders should remain visible (not faint)\n   - Only content should be faint when inactive\n   - Requires rendering border separately from content\n\n4. Modal responsive sizing:\n   - Add minimum width check (e.g., 40 chars minimum)\n   - Handle very narrow terminals gracefully\n   - Consider scrollable modal content for long ticket details\n\n5. Document magic numbers:\n   - Add comments for SetHeight(3) explaining the 2-line description\n   - Extract filterHeight = 3 to named constant with explanation\n\nNICE TO HAVE:\n6. Color contrast validation:\n   - Add comments showing WCAG contrast ratios for chosen colors\n   - Or provide theme customization options\n\nAcceptance: MUST and SHOULD items complete, modal looks polished with proper focus.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-alm","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: Arcade Select Visual Polish","updated_at":"2026-02-22T16:34:31Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Dolt journal was broken. Old ticket was revived","closed_at":"2026-02-25T15:39:15Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"68d68ea57db746aac46124e78ead325b00a122a52de6c493684d0d704e0247e5","created_at":"2026-02-23T08:15:00Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"internal/ui/model.go is over 700 lines which is bulging into inconvenient size territory\n## Task Description\n2 pass:\n1. decompose the file because smaller files are easier to handle\n2. check all generated files for other weaknesses that can be eliminated by fixing and refactoring\n## Why is this needed?\ncode health, duh\n## Scope\ninternal/ui/model.go and everything that touches it if there are gains to made\n## Acceptance Criteria\n- [ ] internal/ui/model.go is decomposed into smaller files\n- [ ] the smaller files are checked and their code quality (potentially) improved","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-aln","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[CHORE] Refactor model.go","updated_at":"2026-02-25T15:39:15Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Megatherium","await_id":"","await_type":"","close_reason":"Implementation complete with review feedback incorporated: added enhanced documentation for AnimationState and edge case tests for out-of-bounds phase values. Animation system features 60fps breathing pulse using signature gradient (light green #90EE90 to dark blue #004088) with ThickBorder() for visibility. All gradient colors applied throughout UI.","closed_at":"2026-03-01T09:31:18Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"9c2a1164787b6777f151fa9de78e08922678daeeee2a971a7dc2ee91fd6b5bc0","created_at":"2026-03-01T08:00:04Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"# Animation Foundation \u0026 Core Pulse\n\n## Objective\nSet up the animation system foundation and implement breathing pulse effect on focused columns to establish the core arcade feel.\n\n## Implementation Steps\n\n### 1. Add Animation State to UIModel\n\n**File: `internal/ui/model_types.go`**\n\nAdd new struct and field to UIModel:\n\n```go\ntype AnimationState struct {\n    pulsePhase      float64       // 0-1, sine wave for breathing (2-3 second period)\n    startTime       time.Time      // When animation started\n}\n\ntype UIModel struct {\n    // ... existing fields ...\n\n    // Animation state\n    animState       AnimationState\n}\n```\n\nInitialize in NewUIModel:\n```go\nreturn UIModel{\n    // ... existing initialization ...\n    animState: AnimationState{\n        startTime: time.Now(),\n    },\n}\n```\n\n### 2. Create Animation Tick Command\n\n**File: `internal/ui/model_messages.go`** (or add to existing file)\n\nDefine message and command:\n\n```go\n// animationTickMsg is sent periodically to update animations\ntype animationTickMsg struct {\n    time time.Time\n}\n\n// animationTickCmd returns a command that sends animationTickMsg every 16ms (~60fps)\nfunc animationTickCmd() tea.Cmd {\n    return tea.Tick(16*time.Millisecond, func(t time.Time) tea.Msg {\n        return animationTickMsg{time: t}\n    })\n}\n```\n\n### 3. Handle Animation in Update Loop\n\n**File: `internal/ui/model_update.go`**\n\nAdd handler in Update method:\n\n```go\nfunc (m UIModel) Update(msg tea.Msg) (tea.Model, tea.Cmd) {\n    var cmd tea.Cmd\n\n    switch msg := msg.(type) {\n    // ... existing cases ...\n\n    case animationTickMsg:\n        return m.handleAnimationTick(msg)\n\n    // ... rest of cases ...\n    }\n    // ...\n}\n```\n\nImplement handler:\n\n```go\nfunc (m UIModel) handleAnimationTick(msg animationTickMsg) (UIModel, tea.Cmd) {\n    elapsed := msg.time.Sub(m.animState.startTime).Seconds()\n\n    // Pulse cycle: 0 to 1 to 0 over 2.5 seconds (2.5 second period)\n    // Using sine wave: sin(2π * t / period)\n    period := 2.5\n    phase := (math.Sin(2*math.Pi*elapsed/period) + 1) / 2 // Normalize to 0-1\n\n    m.animState.pulsePhase = phase\n\n    return m, nil\n}\n```\n\nImport `math` package.\n\n### 4. Initialize Animation Loop\n\n**File: `internal/ui/model.go`**\n\nModify Init to start animation:\n\n```go\nfunc (m UIModel) Init() tea.Cmd {\n    return tea.Batch(\n        func() tea.Msg {\n            if err := m.app.Registry.Load(context.Background()); err != nil {\n                return warningMsg{err: fmt.Errorf(\"model discovery load failed: %w\", err)}\n            }\n            return registryLoadedMsg{}\n        },\n        func() tea.Msg {\n            store, err := m.app.CreateStore(context.Background())\n            if err != nil {\n                return errMsg{err}\n            }\n            tickets, err := store.ListTickets(context.Background(), data.TicketFilter{})\n            if err != nil {\n                return errMsg{err}\n            }\n            return ticketsLoadedMsg(tickets)\n        },\n        discoverWorktreesCmd(m.app.opts.BeadsDir),\n        animationTickCmd(), // Start animation loop\n    )\n}\n```\n\n### 5. Implement Pulsing Border Colors\n\n**File: `internal/ui/model_view.go`**\n\nAdd helper function to compute pulsing color:\n\n```go\n// getPulsingColor returns a color that varies based on pulse phase\n// For ThemeActive (currently 205), vary brightness slightly\nfunc getPulsingColor(phase float64) lipgloss.Color {\n    // Phase: 0-1, with 0.5 being brightest\n    // We want subtle variation: +/- 15 brightness units\n\n    baseColor := ThemeActive\n    // Assuming baseColor is AdaptiveColor, convert to hex for manipulation\n    // For simplicity, use static palette with interpolation\n\n    // Subtle variation: dark (235) to bright (201) magenta\n    dark := lipgloss.Color(\"235\")\n    bright := lipgloss.Color(\"201\")\n    base := lipgloss.Color(\"219\") // Standard magenta-ish\n\n    // Linear interpolation\n    if phase \u003c 0.5 {\n        // Going from dark to base\n        t := phase * 2 // 0 to 1\n        return interpolateColor(dark, base, t)\n    } else {\n        // Going from base to bright\n        t := (phase - 0.5) * 2 // 0 to 1\n        return interpolateColor(base, bright, t)\n    }\n}\n\n// interpolateColor blends between two colors\nfunc interpolateColor(c1, c2 lipgloss.Color, t float64) lipgloss.Color {\n    // Simple implementation: return c1 or c2 based on t\n    // For proper implementation, parse hex and interpolate RGB\n    // For now, use discrete steps\n    if t \u003c 0.33 {\n        return c1\n    } else if t \u003c 0.66 {\n        return lipgloss.Color(\"219\") // Middle\n    } else {\n        return c2\n    }\n}\n```\n\nModify renderMatrixView to use pulsing colors:\n\n```go\nfunc (m UIModel) renderMatrixView() string {\n    // ... existing guards ...\n\n    // Get pulsing color based on animation phase\n    pulsingActiveColor := getPulsingColor(m.animState.pulsePhase)\n\n    activeBorder := func(w int) lipgloss.Style {\n        if w \u003c 2 {\n            w = 2\n        }\n        return lipgloss.NewStyle().\n            Border(lipgloss.RoundedBorder()).\n            BorderForeground(pulsingActiveColor). // Use pulsing color\n            Width(w - 2).\n            Height(listHeight - 2)\n    }\n\n    // ... rest of renderMatrixView unchanged ...\n}\n```\n\n### 6. Add Import Statements\n\n**Files requiring updates:**\n\n`internal/ui/model_update.go`:\n```go\nimport (\n    // ... existing imports ...\n    \"math\"\n    \"time\"\n)\n```\n\n`internal/ui/model_messages.go`:\n```go\nimport (\n    \"time\"\n    tea \"github.com/charmbracelet/bubbletea\"\n)\n```\n\n## Acceptance Criteria\n\n- [ ] Animation state properly initialized in UIModel\n- [ ] Animation tick loop starts on Init and runs continuously\n- [ ] Focused column border color pulses smoothly (2.5 second cycle)\n- [ ] Pulse is subtle, not distracting\n- [ ] No performance degradation (maintains ~60fps)\n- [ ] All existing functionality remains unchanged\n- [ ] Tests pass\n\n## Notes\n\n- The pulse should be subtle: users shouldn't notice it consciously, but should feel the UI is \"alive\"\n- Color interpolation can be improved later with proper RGB blending (simple version is fine for now)\n- Animation loop runs at ~60fps but can throttle if performance is an issue\n- This is the foundation for all other arcade effects\n\n## Dependencies\n\n- Depends on: bb-cj8 (parent task for overall visual polish)\n\n## Blocks\n\n- Lock-in flash implementation (needs animation foundation)\n- Color cycling effects (needs animation foundation)\n- Glow effects (needs animation foundation)\n","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-av2","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Animation Foundation \u0026 Core Pulse","updated_at":"2026-03-01T09:31:18Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Created in error, binary name is correct","closed_at":"2026-02-22T15:12:16Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"3dc10c59aa239afb04e95740cad2979d79a7a745b8313e484f097dd43ab8d724","created_at":"2026-02-22T15:07:54Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"The `scripts/screenshot.tape` script references `./bdb`, but the `Makefile` builds `./blunderbust`. This causes the screenshot generation to use a potentially stale or missing binary. Also, `AGENTS.md` refers to `bdb` as the primary binary, creating confusion.\n\n**Action Items:**\n1. Update `scripts/screenshot.tape` to use `./blunderbust`.\n2. Ensure `make screenshot` works correctly after the change.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-av5","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: Fix VHS script binary reference","updated_at":"2026-02-22T15:12:16Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review completed and feedback implemented","closed_at":"2026-02-21T22:06:27Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"5362caed2270020fe6deae3007943de4aaee766d82f796be22d1ffa18fc17139","created_at":"2026-02-21T21:39:35Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the fixes implemented in bb-64l for race conditions and network resilience","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-azk","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Refinement of Model Discovery","updated_at":"2026-02-21T22:06:27Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review passed with score 9.0. Guard successfully prevents startup cutoff. Follow-up bb-9bq created for general layout over-rendering.","closed_at":"2026-02-27T10:05:07Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"a6eec31dbedb15959e2be23dd6278c99ddc23554d6551d08a101de68b08042d9","created_at":"2026-02-27T09:37:47Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"When the app starts the top bar and the first few lines in general are just cut off.\nCan be solved by toggling the sidebar (or the fullscreen of the terminal emulator.\n## Steps to Reproduce\n1. Try using the new `agent-tui` tool to 'see' it for yourself\n## Expected Behavior\nAll boxes and borders are drawn correctly at start","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-b9b","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[BUG] App starts with head cut off","updated_at":"2026-02-27T10:05:07Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-21T16:06:21Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"38972f32cab64029cad0be8b02b4cc260fd7863db2ff349b047837158d2429a3","created_at":"2026-02-21T15:24:42Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"I've only tried it with opencode so far but will assume it's universal. Opencode launches but then it only uses the topleft quadrant of the whole space. Splitting the window left to right and then closing the new pane wipes out the part of the harness it overlays and that aren't refreshed. Weird. Never seen this before. \n## Expected Behavior\nHarness uses the whole window space","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-baw","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[BUG] Harness is crammed","updated_at":"2026-02-21T16:06:21Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Fixed: Binary name in Makefile changed from 'bdb' to 'blunderbuss' for consistency with documentation examples.","closed_at":"2026-02-21T11:48:23Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"fcc7cb96d2c3c6e5394516e0aa23fcfbc9cb42623dac9cfc6176c6ba7becc246","created_at":"2026-02-21T11:42:37Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Fix binary name inconsistency in README.md:\\n\\n- Line 50 says binary is built as `bdb` (from Makefile)\\n- Line 57 manual build command uses `-o blunderbuss`\\n- All other commands reference `./blunderbuss`\\n\\nRecommendation: Either change line 50 to say `blunderbuss` OR update all examples to use `./bdb` to match Makefile.\\n\\nOriginal ticket: bb-81z","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-bbf","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: Binary name consistency in README","updated_at":"2026-02-21T11:48:23Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Feature complete with layout and visual polish.","closed_at":"2026-02-22T17:02:18Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"060a2f38a5f6239fe1f881d5e24b25bae8102a103dcfcb2f17a176f921259ff5","created_at":"2026-02-21T17:27:38Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"4-column flexbox grid (Tickets, Harness, Model, Agent) with interactive filters at the top.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-bc0","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"TUI: Selection Matrix Component (The Arcade Select)","updated_at":"2026-02-22T17:02:18Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-20T19:45:20Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"99cc690541031c85648610302419a03bc2560586f09dc2dbc36bacbfd4cf2a90","created_at":"2026-02-20T19:41:20Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"- Remove unused statusChecker field from Launcher struct (launcher.go:22)\n- Remove orphaned internal/exec/fake/launcher.go or document its purpose\n- These are minor code hygiene issues found in review of bb-7ah","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-bcb","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: Remove unused code from tmux launcher","updated_at":"2026-02-20T19:45:20Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"All lint issues fixed (complexity reduced from 18 to 9, gofmt applied). MVP complete.","closed_at":"2026-02-21T09:49:41Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"92410213114c462cb098ee6f42346ad0e80e6d122747281dc029b85eaa73a1e8","created_at":"2026-02-21T09:47:38Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Fix lint issues found during review of bb-nds:\n- gocyclo: UIModel.Update has complexity 18 (threshold 15) - extract message type handlers\n- gofmt: 3 files need formatting (app.go, confirm.go, model.go)\nRun make lint to verify fixes.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-btg","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: Resolve lint issues in UI layer (bb-nds)","updated_at":"2026-02-21T09:49:41Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"089475783a7d803ec99f555490090d3e19d87a70882157e50c05fda10da05776","created_at":"2026-03-01T11:57:17Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Currently when launching an agent tmux switches to that windows. Depending on your workflow this is annoying.\n## Feature Description\nMake it configurable (enum not boolean)\n```config.yaml\nlauncher:\n  target: background|foreground (i have ideas for further options\n```\nForeground is what we currently have\nBackground would just create a window in the same session but not switch focus","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-buk","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"[FEATURE] Don't focus on launched agent","updated_at":"2026-03-01T11:57:17Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"All refinement items completed and committed:\\n1. Improved placeholder text to be more specific\\n2. Cleaned up confusing test comments\\n3. Added comprehensive edge case test for both columns disabled\\n4. Added state transition documentation\\n\\nAll tests passing, changes pushed to master.","closed_at":"2026-02-28T08:16:15Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"d7be52e64fcfa323c0a1785fdb9ecf8e12c4e5f825a05c50a7f1fa09f60611b3","created_at":"2026-02-28T08:11:56Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Easy wins to improve disabled column feature:\n\n1. Improve placeholder text for disabled columns\n   - Change 'Not configured' to more specific messages:\n     - Model column: 'No models available for this harness'\n     - Agent column: 'No agents available for this harness'\n\n2. Clean up test comment confusion in model_test.go:329\n   - Remove or clarify the comment that shows development confusion about expected tab navigation behavior\n\n3. Add edge case test for both columns disabled\n   - Test navigation when both Model and Agent are disabled simultaneously\n   - Verify focus stays on Harness correctly in this scenario\n\n4. Add brief state transition documentation\n   - Add comment explaining flow when harness changes and columns become/stop being disabled\n\nAll changes are small polish items that improve user experience and code maintainability.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-bz8","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: Improve disabled column UX and test clarity","updated_at":"2026-02-28T08:16:15Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review passed with score 9.0/10. Fix correctly addresses both reported bugs: keyboard navigation now works (unhandled keys fall through to list views), and enter no longer skips harness selection. Code passes linting and builds successfully.","closed_at":"2026-02-21T10:37:06Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"73c0eb79ac559d56abdb135d80923f09ea1ac19b4ffbb4cc8f99c582bbd9df2f","created_at":"2026-02-21T10:30:23Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-bz9","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Review the fix for bb-7rx: keyboard navigation and harness selection flow","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: UI flow broken","updated_at":"2026-02-21T10:37:06Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"bd294a83215cbeb72f008c3f3f14def4eb9b4e47960672094b53a87f12274178","created_at":"2026-02-21T17:27:40Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Add Arcade Flair lock-in glow and visual polish improvements for TUI interface.\n\n**Design Intent: Matrix display is an homage to arcade character select screens.**\n- Slow rhythmic flashing on the cursor/selected item (continuous breathing effect)\n- Brief quick flashing phase when something is locked in/selected (like 'picking' a character)\n- Use full gamut of visual techniques (gradients, glows, subtle animations, color cycling)\n- Goal: Arcade feel without epilepsy-inducing rapid flashing\n- Not everything needs to be flashy/blinky, but more dynamic than current static state","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-cj8","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"in_progress","target":"","timeout_ns":0,"title":"TUI: Visual Polish \u0026 Arcade Flair","updated_at":"2026-03-01T07:51:30Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Fixed all MUST and SHOULD criteria (added tests, constants, min window sizes, standardized keys, restored status bars, refactored updateSizes).","closed_at":"2026-02-22T16:09:28Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"42eef200b99edadd7dff8dde7cea276fd677ed72164e98ed322b35cb2dd4f66e","created_at":"2026-02-22T15:41:17Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Fix issues identified in review bb-9x2:\n\nMUST FIX:\n1. Add disabled item counts to list displays (ticket criteria requirement)\n2. Create comprehensive tests for model.go:\n   - Test Update method with all message types\n   - Test handleKeyMsg navigation logic\n   - Test width calculations in updateSizes()\n   - Test state transitions\n   - Test focus movement bounds\n\nSHOULD FIX:\n3. Extract magic numbers to constants:\n   - filterHeight, gap sizes, border colors\n   - Create Color constants (activeBorderColor, inactiveBorderColor)\n4. Standardize key handling to use keys.go bindings consistently\n5. Refactor updateSizes() to reduce duplication between sidebar modes\n6. Add minimum window size validation\n\nNICE TO HAVE:\n7. Replace placeholder sidebar content with actual implementation or remove\n8. Document width allocation algorithm in comments\n\nAcceptance: All MUST and SHOULD items complete, tests passing.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-cky","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: Arcade Select Layout Base","updated_at":"2026-02-22T16:09:28Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Superseded by bb-rgi - original review was for partial fix, new review covers complete fix","closed_at":"2026-02-27T10:46:23Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"dec4f248f74965efe60323b19ca085ba020d0077a9213e1c1da67d63f1b516c5","created_at":"2026-02-27T10:16:46Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the fix for bb-9bq - UI over-rendering by accounting for vertical margins.\n\n## Changes Made\n- Added verticalMargins constant (2) to model_types.go for docStyle margins\n- Updated handleWindowSizeMsg in model_update.go to subtract verticalMargins from height\n- Ensures UI properly fits within terminal without over-rendering\n\n## Verification\n- All UI tests pass\n- Height calculations verified: total = margins + content + footer = terminal height\n\n## Files Modified\n- internal/ui/model_types.go\n- internal/ui/model_update.go","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-crd","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Fix UI over-rendering by accounting for margins (bb-9bq)","updated_at":"2026-02-27T10:46:23Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Redundant - TicketStore already implemented in bb-2p9 (closed). Remaining UI integration work tracked in bb-hbf.","closed_at":"2026-02-20T19:31:49Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"dc5712897586ecccfc8504ff1ad80dacc6cb53d694b968eb3beaf55f53bcad43","created_at":"2026-02-20T18:21:18Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Replace the fake TicketStore in the UI with the real Dolt-based database.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-d4e","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Implement real TicketStore","updated_at":"2026-02-20T19:31:49Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review complete. Score: 7.5/10. Refinement ticket bb-hey created with 2 MUST FIX and 3 SHOULD FIX issues.","closed_at":"2026-02-20T18:34:09Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"23f9ef74655c226ccc2c2d39e0d172437b4fdc2e622429b81e45d50385e7e6af","created_at":"2026-02-20T16:10:49Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-d5b","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Bubble Tea TUI Skeleton MVP","updated_at":"2026-02-20T18:34:09Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-22T08:55:04Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"fd32c7e1762313424236f0276e1f171bd918d3ee5eb15d2763cf8c3071ecd069","created_at":"2026-02-22T07:52:48Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the project rename from blunderbuss to blunderbust.\n\n## Files to Review\n- go.mod - Module path change\n- All internal/*/*.go files - Import path updates (35 files)\n- internal/discovery/models.go - Cache directory path\n- internal/data/dolt/embedded.go - Dolt commit metadata\n- internal/exec/tmux/launcher.go - Error messages\n- internal/domain/types.go, doc.go - Package documentation\n- README.md, AGENTS.md - User documentation\n- .gitignore - Binary names\n\n## Review Criteria\n- All import paths correctly updated to github.com/megatherium/blunderbust\n- No remaining 'blunderbuss' references in code\n- Cache directory correctly set to ~/.cache/blunderbust\n- Binary name remains 'bdb' as specified\n- Documentation fully updated\n- All tests pass\n\n## Deliverable\nScore (0.0-10.0) and decision:\n- Score \u003c 8.5: Create refinement ticket listing all defects\n- Score \u003e= 8.5: Pass or optional minor cleanup","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-du8","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: bb-3nf Project Rename","updated_at":"2026-02-22T08:55:04Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review complete: Score 8.5/10. All deliverables present, minor inconsistency found and fixed in bb-bbf.","closed_at":"2026-02-21T11:48:23Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"78199cf6106019d0962a755bf488f76f97ab62114d02f8f80205549ae769beaf","created_at":"2026-02-21T11:38:04Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review ticket bb-81z (Polish: README, example config, troubleshooting, exit codes) for quality, completeness, and adherence to documentation standards.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-dzk","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Polish: README, example config, troubleshooting, exit codes","updated_at":"2026-02-21T11:48:23Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review complete. Score: 8.5/10 - PASS. Fix correctly addresses root cause with proper error handling. Minor optional improvements noted (parseWindowID complexity, test optimization) but not blocking.","closed_at":"2026-02-27T09:47:40Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"cdb91ef02134b66cbd6e59ecd03d9ce8d6f9e2745dcc298eacf3311746aa02ab","created_at":"2026-02-26T19:51:06Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the fix for bb-934 - Ghost tail not capturing window output.\n\n## Changes Made\n- Added  flag to  command to print window info\n- Added  format to capture actual window ID (e.g., )\n- Updated tests to expect new command format\n\n## Files Changed\n- internal/exec/tmux/launcher.go (buildCommand)\n- internal/exec/tmux/launcher_test.go (test expectations)\n\n## Root Cause\nThe  command produces no output by default, so WindowID was always empty. This caused pipe-pane to fail when targeting windows by name instead of ID.\n\n## Acceptance Criteria\n- [ ] Code quality acceptable\n- [ ] Tests cover the fix\n- [ ] Edge cases handled\n- [ ] No regressions","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-e34","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Ghost tail pipe-pane window ID fix (bb-934)","updated_at":"2026-02-27T09:47:40Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review passed: score 9.5/10. Implementation correctly unsets LINES/COLUMNS to fix harness window sizing issue.","closed_at":"2026-02-21T16:06:08Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"11c7c70d80424d2d1402b2195501a6f7addf7a77f4aaa9953a834ab610e75eab","created_at":"2026-02-21T15:46:20Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-e5k","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Fix harness window size (bb-baw)","updated_at":"2026-02-21T16:06:08Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-20T16:07:49Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"4b5867ecab3006b8aa6922db05c3fa26111ac1d6e442ec9599298a8b62c6a612","created_at":"2026-02-19T18:47:26Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Create the Bubble Tea program with all screens and state transitions using fake/in-memory data. This proves the UI flow works before wiring real backends.\n\n## Deliverables\n\n### internal/ui/app.go\n- App struct holding Bubble Tea Model\n- Constructor: NewApp(store TicketStore, loader Loader, launcher Launcher, opts AppOptions)\n- AppOptions: DryRun bool, ConfigPath string, Debug bool\n\n### internal/ui/model.go\n- Main Model with step/screen state machine\n- Steps: TicketList → HarnessSelect → ModelSelect → AgentSelect → Confirm → Launching → Result\n- Back navigation (Esc) returns to previous step\n- Quit (q/ctrl+c) from any screen\n\n### Screen views (each in own file):\n- internal/ui/ticket_list.go — List of tickets (table or list component), enter selects\n- internal/ui/harness_select.go — List of harnesses from config, enter selects\n- internal/ui/model_select.go — List of models for selected harness, enter selects (skip if only 1)\n- internal/ui/agent_select.go — List of agents for selected harness, enter selects (skip if empty or only 1)\n- internal/ui/confirm.go — Shows full selection summary + rendered command + rendered prompt, enter launches\n- internal/ui/result.go — Shows launch result (success/failure), q quits\n\n### Smart skipping\n- If harness has only 1 model → auto-select, skip to next\n- If harness has 0 or 1 agents → auto-select/skip\n- If config has only 1 harness → auto-select, skip\n\n### Styling\n- Use lipgloss for styling (it comes with Bubble Tea ecosystem)\n- Keep it clean and minimal — this is a launcher, not a dashboard\n- Use bubbletea list component (bubbles) for selection screens\n\n### Wiring for this ticket\n- Use FakeTicketStore with 5-10 hardcoded tickets\n- Use hardcoded config with 2-3 harnesses\n- Use FakeLauncher that prints command and returns success\n- This MUST work standalone: go run cmd/blunderbuss/main.go should show the TUI with fake data\n\n## Key decisions\n- UI imports ONLY interfaces from internal/data, internal/config, internal/exec — never concrete implementations\n- State machine is explicit (enum/const for steps, not implicit)\n- Each screen is a sub-model with its own Update/View (Elm architecture)\n- The confirm screen is important: user sees exactly what will happen before launch","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-ec1","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Bubble Tea TUI skeleton with multi-step navigation (fake data)","updated_at":"2026-02-20T16:07:49Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Removed /blunderbuss from .gitignore","closed_at":"2026-02-22T09:01:32Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"105949437498400ac17d8b081dd787c55e535987f5439e785a06499879f60741","created_at":"2026-02-22T08:58:52Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"## Defect to Fix\n\n1. **Old binary name still in .gitignore** (.gitignore:2)\n   - Line 2 has '/blunderbuss' \n   - Already has '/blunderbust' on line 43\n   - Remove line 2 to complete the rename\n\n## Why this matters\nKeeps .gitignore clean and consistent with the new project name.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-exv","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: Remove /blunderbuss from .gitignore","updated_at":"2026-02-22T09:01:32Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Implementation complete. Review passed (9.0/10). All deliverables met with comprehensive tests.","closed_at":"2026-02-20T08:43:31Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"144ce85e31902389046d19260c484850bae5e4b194cd50d1fa44e8fef7a39a2e","created_at":"2026-02-19T18:47:02Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Implement the Launcher interface that spawns tmux windows with rendered harness commands. Include dry-run mode and a guard against running outside tmux (easily removable later).\n\n## Deliverables\n\n### internal/exec/tmux/launcher.go (implements Launcher interface)\n- Launch(ctx, LaunchSpec) → LaunchResult\n- Constructs: tmux new-window -n \"\u003cWindowName\u003e\" \"\u003cRenderedCommand\u003e\"\n- WindowName convention: ticket ID (e.g. bb-3zg)\n- Captures tmux window ID from output if available\n- Returns LaunchResult with window name, ID\n\n### Dry-run mode\n- When dry-run=true, print the command that would be executed, return fake LaunchResult\n- Dry-run is passed through LaunchSpec or as a Launcher constructor option\n\n### tmux guard\n- Check TMUX env var on launcher construction\n- If not inside tmux: return clear error (\"blunderbuss must be run inside a tmux session\")\n- Design the guard as a simple check that can be removed/made optional later (e.g. a constructor option SkipTmuxCheck)\n\n### internal/exec/tmux/runner.go\n- CommandRunner interface: Run(ctx, name string, args ...string) ([]byte, error)\n- RealRunner: wraps exec.CommandContext\n- This abstraction exists purely for testability — keeps tmux out of unit tests\n\n### internal/exec/tmux/status.go (monitoring foundation)\n- TmuxWindowStatus type: Running, Dead, Unknown\n- CheckStatus(windowName string) TmuxWindowStatus — uses tmux list-windows to check if window exists\n- This is the MVP monitoring: is the window alive or not\n\n### Unit tests\n- Command construction (proper escaping, window naming)\n- Dry-run returns expected output without executing\n- Guard behavior (with/without TMUX env var)\n- Status check logic (mock tmux list-windows output)\n\n## Key decisions\n- No shell interpretation: use exec.Command(\"tmux\", \"new-window\", ...) not sh -c\n- Window names are ticket IDs (short, unique, greppable)\n- Guard is a soft architectural boundary — one bool to disable, not deep coupling\n- Status check is basic (window exists = running, doesn't = dead) — extensible later per-harness","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-fi8","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Implement tmux launcher with dry-run and outside-tmux guard","updated_at":"2026-02-20T08:43:31Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review passed with score 9.8/10. Implementation correctly validates duplicate harness names with actionable error messages. Comprehensive test coverage included.","closed_at":"2026-02-21T17:21:03Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"3fdc25c1fddef356d8a25e09f34cbf373e3f6d63d48372b7330d0dff0e2a584b","created_at":"2026-02-21T17:17:33Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review implementation of duplicate harness name validation in YAML loader.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-fvg","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Add validation for duplicate harness names in config","updated_at":"2026-02-21T17:21:03Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Implementation completed and reviewed. However, smoke testing revealed output capture is not functioning - pipe-pane not capturing tmux window output.","closed_at":"2026-02-26T19:47:03Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"d3cf821a43654a857d19739c44203324e1b5c04ba4faa059e536e6d58dcc4b23","created_at":"2026-02-21T17:27:39Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Hook tmux pipe-pane to capture active agent output and stream live to Bubble Tea viewport.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-gs3","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Core/TUI: Tmux Output Streaming (Ghost Tail)","updated_at":"2026-02-26T19:47:03Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"All refinement items addressed. Debug logging code removed.","closed_at":"2026-02-28T19:25:00Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"7d952997420afc76252b82e34c9b4fa0bbd31c46c8fdba9e8fa8e0827f6dc21c","created_at":"2026-02-28T19:04:49Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Fixes needed for bb-y22 ghost tail implementation:\n\nCritical:\n1. Implement readAgentOutputCmd function that is referenced in handleAgentSelected\n2. Add periodic output polling mechanism using tea.Tick (since capture-pane takes snapshots, not streams)\n3. Remove debug logging code from model_update.go:436-447 (writes to /tmp/bdb_agent.log)\n\nMedium:\n4. Either restore TestAgentTui_GreyedOutColumns to test actual functionality, or remove the vacuous test entirely\n5. Revert launcher_test.go dryRun parameter change or add justification comment\n\nThe architectural shift from pipe-pane to capture-pane requires a polling approach for live output, which is currently missing.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-gsi","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: bb-y22 ghost tail and quit fixes","updated_at":"2026-02-28T19:25:00Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Implemented. Reviewed with bb-8pd and refined in bb-354","closed_at":"2026-02-21T09:17:33Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"12c9928c302ea29cdf751b30124355473da07f5feacab432ba1ffc2e52d03008","created_at":"2026-02-19T18:47:41Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Replace FakeTicketStore with the real Dolt-backed TicketStore. Add loading spinner and error handling for DB operations.\n\n## Deliverables\n\n### UI integration\n- On app start: load tickets from real TicketStore asynchronously (Bubble Tea Cmd)\n- Show loading spinner/message while querying\n- Show error screen if DB connection fails, with actionable message (check beads dir, check DSN)\n- Refresh capability (r key to reload ticket list)\n\n### Error UX\n- DB not found: \"No beads database found at \u003cpath\u003e. Is this a beads project?\"\n- Connection refused (server mode): \"Cannot connect to Dolt server at \u003chost\u003e:\u003cport\u003e\"\n- Empty results: \"No ready tickets found\" (not an error, just info)\n\n### cmd/blunderbuss/main.go updates\n- Wire real NewStore(ctx, beadsDir) into app construction\n- beadsDir from --beads-dir flag or auto-detect (.beads in cwd)\n- Fallback to fake data if --demo flag is passed (preserves standalone testing)\n\n## Key decisions\n- Async loading via Bubble Tea commands (tea.Cmd), not blocking Init\n- Error states are screens, not panics — user can quit gracefully\n- Keep the --demo flag for development/testing convenience","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-hbf","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Wire real TicketStore into TUI with loading and error states","updated_at":"2026-02-21T09:17:33Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Fixed all issues from review: SQL placeholders (? style), password escaping via mysql.Config, added Close() tests, and explanatory comment","closed_at":"2026-02-20T08:14:07Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"4d859db054403b60fb757b5b88f660d00994b7cdcc687a5d9d30ce11528c4c2e","created_at":"2026-02-20T08:05:25Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Critical SQL placeholder format bug found during review of bb-2p9.\n\n## Files Reviewed\n- internal/data/dolt/store.go - Main Store type\n- internal/data/dolt/embedded.go - Embedded Dolt driver\n- internal/data/dolt/server.go - MySQL server driver\n- internal/data/dolt/metadata.go - Metadata parsing\n- internal/data/dolt/schema.go - Schema verification\n- internal/data/dolt/doc.go - Package documentation\n- internal/data/dolt/store_test.go - Tests\n- internal/data/dolt/metadata_test.go - Metadata tests\n\n## Strengths (What's Good)\n1. **Clean Architecture**: Clear separation of concerns across files\n2. **Interface Compliance**: Compile-time interface check present (var _ data.TicketStore = (*Store)(nil))\n3. **Excellent Error Messages**: All errors include actionable guidance (e.g., \"run 'bd init'\")\n4. **Good Test Coverage**: Comprehensive unit tests with sqlmock, covers filter combinations\n5. **Good Documentation**: Package doc with usage examples and error handling guide\n6. **Safe Resource Management**: Proper defers, cleanup on errors in connection setup\n7. **Idempotent Close**: Correct closed flag pattern to prevent double-close issues\n\n## Defects to Fix\n\n### 1. CRITICAL: SQL Placeholder Format (store.go:97-119)\nThe buildListTicketsQuery function uses PostgreSQL-style $1, $2, $3 placeholders. Both Dolt backends (embedded driver via dolthub/driver and MySQL driver via go-sql-driver/mysql) use MySQL-style ? placeholders. This will cause runtime query failures.\n\n**Current (broken):**\n```go\nif filter.Status != \"\" {\n    sb.WriteString(fmt.Sprintf(\" AND status = $%d\", argIdx))\n    args = append(args, filter.Status)\n    argIdx++\n}\n```\n\n**Should be:**\n```go\nif filter.Status != \"\" {\n    sb.WriteString(\" AND status = ?\")\n    args = append(args, filter.Status)\n}\n```\n\nThe argIdx variable and tracking is unnecessary with ? placeholders - just remove it entirely.\n\n**Files to update:**\n- store.go: Remove argIdx, change all $N to ?\n- store_test.go: Update all regex expectations from \\$1, \\$2 etc to just ?\n\n### 2. MEDIUM: Password escaping in DSN (server.go:84-88)\nPassword from BEADS_DOLT_PASSWORD env var is not escaped before being included in DSN string. If password contains special characters (@, :, /, spaces), the DSN will be malformed and connection will fail.\n\n```go\n// Current - unsafe for passwords with special chars\nif password != \"\" {\n    dsn = fmt.Sprintf(\"%s:%s@tcp(%s:%d)/%s\", user, password, host, port, database)\n}\n```\n\n**Fix options:**\n1. Use mysql.Config struct and FormatDSN() method\n2. Use net/url.UserPassword() and escape the password\n3. At minimum, document that passwords must not contain special chars\n\n### 3. MINOR: Missing test coverage\n- No test for Close() idempotency (calling Close twice should not error)\n- No test for double-close safety\n- No test for store.Close() returning error from db.Close()\n\n### 4. MINOR: Unused beadsDir parameter (server.go:21)\nThe newServerStore function has beadsDir parameter but doesn't use it (marked with _). This is intentional since server mode doesn't need local path, but worth a brief comment explaining why.\n\n### 5. COSMETIC: Duplicate package doc (doc.go vs store.go)\nBoth doc.go and store.go have package-level documentation. Consider consolidating - typically doc.go is the canonical place for package docs.\n\n## Acceptance Criteria\n- All SQL queries use ? placeholders (MySQL style)\n- Tests updated to expect ? placeholders in regex\n- All tests pass\n- Password handling is safe or documented limitation\n- Code compiles without warnings","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-hdm","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":0,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: Fix SQL placeholder format in Dolt Store","updated_at":"2026-02-20T08:14:07Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Defects fixed. We can move forward.","closed_at":"2026-02-20T19:22:17Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"1a044aecf896dec187825f30828c04765361ae485fc94860e35691cef427058f","created_at":"2026-02-20T18:29:27Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"## Issues from Review (bb-d5b)\n\n### MUST FIX:\n1. **High cyclomatic complexity (31) in model.go Update()** [gocyclo threshold: 15]\n   - Extract screen-specific update logic to separate methods\n   - Consider a screen interface with Update/View methods\n   - File: internal/ui/model.go:114\n\n2. **Confirm screen missing rendered command/prompt**\n   - Ticket spec required showing rendered command and prompt before launch\n   - Wire config.Renderer to App, use it in confirm screen\n   - Show both renderedCommand and renderedPrompt in confirmView()\n   - Files: internal/ui/app.go, internal/ui/confirm.go, internal/ui/model.go\n\n### SHOULD FIX:\n3. **if-else chains → switch statements** [gocritic]\n   - internal/ui/result.go:12\n   - internal/ui/model.go:229\n\n4. **rangeValCopy: 152 bytes copied per iteration**\n   - internal/ui/ticket_list.go:22 - use index instead of range value\n\n5. **Preallocate slice capacity** [prealloc]\n   - agent_select.go:16, harness_select.go:21, model_select.go:16, ticket_list.go:21\n\n### OPTIONAL:\n6. Basic unit tests for UI package","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-hey","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: TUI Skeleton Code Quality","updated_at":"2026-02-20T19:22:17Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-21T17:28:03Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"8908c0b0210baca90ab733c56c64b2bb90117ff765f7079012bd12e8acdd05fa","created_at":"2026-02-20T19:53:37Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-hna","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Analyze and specify UI design from blunderbust_mk1.svg","updated_at":"2026-02-21T17:28:03Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review complete. Score: 8.0/10. Refinement ticket bb-92q created with defects to fix. Original task bb-va5 reopened and blocked by refinement.","closed_at":"2026-02-21T22:52:37Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"063efb90a23baaaf1eb5aa8368b855837a276dfd1ba34293ed68f7dc64f04a15","created_at":"2026-02-21T22:20:59Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-hub","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: TUI: Base Layout \u0026 Footer Info Rocker","updated_at":"2026-02-21T22:52:37Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Implementation complete and reviewed. All deliverables met with comprehensive tests.","closed_at":"2026-02-19T21:57:26Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"1adeb1869e8e8e742be42241aa9db6d183d3c464c1aaa1d587c885a146460724","created_at":"2026-02-19T18:46:17Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Implement parsing/validation of harness definitions from YAML config and template rendering for both command and prompt strings.\n\n## Deliverables\n\n### internal/config/yaml.go (implements Loader interface)\n- Parse YAML config file defining harnesses\n- Validate: harness must have name, command_template; models/agents lists optional\n- Return actionable error messages (missing field X in harness Y, file not found, parse error)\n\n### internal/config/render.go\n- RenderCommand(harness, templateContext) (string, error) — renders command template\n- RenderPrompt(harness, templateContext) (string, error) — renders prompt template\n- Uses text/template with the TemplateContext struct from domain\n- Template errors are clear (which harness, which template, what went wrong)\n\n### config.example.yaml\n- Working example config showing 2-3 harnesses (e.g. opencode, claude-code, amp)\n- Each harness shows command_template, prompt_template, models, agents\n- Comments explaining each field\n\n### Example config shape:\n```yaml\nharnesses:\n  - name: opencode\n    command_template: \"opencode --model {{.Model}} --agent {{.Agent}}\"\n    prompt_template: \"Work on ticket {{.Ticket.ID}}: {{.Ticket.Title}}\"\n    models: [claude-sonnet-4-20250514, o3]\n    agents: [coder, task]\n  - name: amp\n    command_template: \"amp\"\n    prompt_template: \"Pick up {{.Ticket.ID}}\"\n    models: [claude-sonnet-4-20250514]\n    agents: []\n```\n\n### Unit tests\n- Parse valid config, parse invalid config (missing fields, bad YAML)\n- Template rendering with full context, with missing optional fields\n- Edge: empty models list, empty agents list, no prompt_template\n\n## Notes\n- YAML only for MVP. JSON support not needed.\n- Templates use Go text/template — no custom functions needed yet\n- Config path comes from CLI --config flag (default: ./blunderbuss.yaml)","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-hvk","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Implement config.yaml loader with validation and template rendering","updated_at":"2026-02-19T21:57:26Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Feature implemented: {{.Prompt}} variable now available in command templates. Bug fix for absolute path handling in file-based templates.","closed_at":"2026-02-21T15:25:51Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"da38e4df1fde35b5a8c6dbf530e46bb91ee0a0605484f6208167878981de59a4","created_at":"2026-02-21T13:20:42Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Currently the rendered prompt is only available for display in the UI. It should also be available as a template variable {{.Prompt}} in the command template so it can be included in the launched command (e.g., to pass to an AI agent or append to a script).","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-icv","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Make rendered prompt available in command prompt as {{.Prompt}}","updated_at":"2026-02-21T15:25:51Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Megatherium","await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"18c0342643ba49e3079cc5f0b1962f971f161ee51714ca52b15f2d07d4bb866f","created_at":"2026-03-01T07:45:01Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Implement specialized quick-draw launch modes for rapid agent activation with minimal selection steps.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-it9","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"TUI: Quick-Draw Launch Flows","updated_at":"2026-03-01T07:45:01Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Round 3 refinement complete. Fixed both critical issues:\n\n1. **connectWebsocket context bug (FIXED)**: \n   - Replaced the defer cancel() pattern that cancelled context on function return\n   - Now uses separate dial context (with timeout) for Dial operation\n   - Connection uses background context for ongoing operations\n   - This was a real bug that would cause websocket operations to fail\n\n2. **Vacuous navigation tests (FIXED)**:\n   - Removed TestTeatest_KeyboardNavigation_ArrowKeys\n   - Removed TestTeatest_FocusManagement_ColumnTransitions  \n   - These tests simulated actions but verified nothing (just len(out) \u003e 0)\n   - teatest cannot test focus navigation because it strips ANSI color codes\n   - Focus tests belong in agent_tui_test.go where ANSI parsing is available\n\nAll remaining tests pass. Ready for review.","closed_at":"2026-02-28T12:42:14Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"f62deba4dd81d786e8bab2a18a79e38aafd17e4b28dc98919ce5b4ac5ff6cde2","created_at":"2026-02-28T12:28:32Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Refinement of TUI automated testing (bb-2id) -- round 3.\n\nReview score: 3.0/10 (threshold 8.5).\n\nThe previous refinement round (bb-2id) failed to address the two remaining items:\n\n1. **connectWebsocket context bug is still completely untouched**\nThe defer cancel() is still in connectWebsocket. When the function returns, the context is cancelled, and the returned connection is using a cancelled context. This must be fixed. Do not defer the cancel of the context passed to Dial if the connection is going to be used outside the function block. Example fix:\n\n```go\nfunc connectWebsocket(t *testing.T, wsURL string) *websocket.Conn {\n\tt.Helper()\n\tctx := context.Background() // Use Background for the ongoing connection\n\tdialCtx, dialCancel := context.WithTimeout(ctx, wsTimeout)\n\tdefer dialCancel()\n\tu, err := url.Parse(wsURL)\n\trequire.NoError(t, err)\n\tconn, _, err := websocket.Dial(dialCtx, u.String(), nil)\n\trequire.NoError(t, err)\n\treturn conn\n}\n```\n\n2. **Navigation tests still contain vacuous assertions**\nAdding `assert.True(t, len(out) \u003e 0 || len(initialOutput) \u003e 0)` in `teatest_test.go` does not test navigation. It just tests that the terminal isn't completely empty, which is already true before the keys are even pressed.\nWhile the comments correctly point out that plain-text string output might not visibly change on focus (if only colors change), that means teatest (which only sees plain text) is the WRONG tool for testing focus navigation.\nTo fix this:\nIf teatest cannot verify focus changes because they are only represented via visual styling (ANSI colors) that teatest strips, then these tests should be moved to `agent_tui_test.go` (where websocket stream ANSI parsing is available) OR the TUI model should provide a readable string representation of its state (like an indicator \"\u003e\") that teatest can observe.\nDo NOT leave tests that simulate actions but verify nothing.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-k56","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: TUI Automated Testing (bb-2id) -- round 3","updated_at":"2026-02-28T12:42:14Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-03-01T09:37:18Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"80c44c1fcdb3ed5450a190ba901ffac8e3a0b20c12eee4238024ef01ab5fe9c7","created_at":"2026-03-01T09:36:50Z","created_by":"","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-l1s","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"test ticket 1772357809","updated_at":"2026-03-01T09:37:18Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review passed. Error message updated to mention both build options (make build-full and go build -tags=embedded).","closed_at":"2026-02-22T20:05:04Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"91557201c087002ebe5be7ee9ca8d83716a6e77cbe89b21f97c5e63ea8dc161c","created_at":"2026-02-22T19:53:19Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the implementation of bb-tms: Build tag refactoring to make embedded Dolt mode optional, reducing default binary size from 93MB to ~11MB.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-l6j","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Make embedded Dolt mode optional via build tags","updated_at":"2026-02-22T20:05:04Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Reviewed. Critical flaws found. Refinement ticket written and done","closed_at":"2026-02-26T15:43:02Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"61cd65084b5fa271e1ed6f7f6b1144fbbfaa4e3bb80b8e2844de7a017e389486","created_at":"2026-02-25T15:44:04Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"## Review: Tmux Output Streaming (Ghost Tail)\n\n### What was implemented:\n- **OutputCapture** (internal/exec/tmux/capture.go): New struct managing tmux pipe-pane output capture to temp files\n- **Viewport integration** (internal/ui/result.go): Live output display using Bubble Tea viewport component  \n- **Message streaming** (internal/ui/model_messages.go, model_commands.go): outputStreamMsg for periodic output reading every 2 seconds\n- **Lifecycle management**: Automatic cleanup when window dies or user quits from result screen\n- **App updates** (internal/ui/app.go): Added CommandRunner field and Runner() getter for capture creation\n\n### Files to review:\n- internal/exec/tmux/capture.go - New file, 88 lines\n- internal/exec/tmux/capture_test.go - Unit tests for capture lifecycle\n- cmd/blunderbust/main.go - Updated NewApp call to pass runner\n- internal/ui/app.go - Added runner field and getter\n- internal/ui/model_types.go - Added viewport and output capture fields\n- internal/ui/model_messages.go - Added outputStreamMsg\n- internal/ui/model_commands.go - Start capture in launchCmd, readOutputCmd\n- internal/ui/model_update.go - handleOutputStream, handleLaunchResult viewport init, cleanup on quit\n- internal/ui/model_view.go - Pass UIModel to resultView\n- internal/ui/result.go - Display viewport in result screen\n\n### Commit:\nb5e9d36 feat(tmux): implement output streaming via pipe-pane (Ghost Tail)\n\n### Review criteria:\n- Code quality and error handling\n- Resource cleanup (temp files, pipe-pane stop)\n- Viewport sizing and resizing\n- Integration with existing TUI state machine\n- Test coverage","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-l98","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Score: 6.5/10 - Critical bug found. Refinement bb-2oc created with fixes needed.","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Tmux Output Streaming (bb-gs3)","updated_at":"2026-02-26T15:43:02Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Refinement done","closed_at":"2026-03-01T12:59:19Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"259f24858bbbb0aa83fd8cdaf96a4b40bc01ff8a45d2277ffa3ff96910a7dfc7","created_at":"2026-03-01T08:34:07Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-ldu","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Review for bb-av2 implementation. Changes: Added animation.go with pulse system, integrated into all focused borders using signature gradient (light green #90EE90 to dark blue #004088). 2.5s breathing cycle via sine wave. UPDATED: All list delegates now use gradient colors for selected items (no more magenta!). All borders changed to ThickBorder() for better visibility. All tests pass.","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Animation Foundation \u0026 Core Pulse","updated_at":"2026-03-01T12:59:19Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Sidebar component implemented with worktree navigation. Review bb-zij and refinement complete.","closed_at":"2026-02-23T06:59:05Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"67f7f2a8444e9d281d73c76e215027df5c24da62eb987d62130066f36b5da007","created_at":"2026-02-21T17:27:38Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Left vertical pane for Project/Worktree Explorer. Tree-like list with keyboard navigation.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-lh7","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"TUI: Sidebar Component (State \u0026 Navigation)","updated_at":"2026-02-23T06:59:05Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review completed - refinement implemented successfully (score 9.2/10)","closed_at":"2026-03-01T12:26:29Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"52e3efec6bc185049c2cdce02897d1c22fa305cebf71450e0a7feeefeb5c50c6","created_at":"2026-03-01T11:51:37Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-lhz","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Auto-refresh UI on Dolt Changes","updated_at":"2026-03-01T12:26:29Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Fixed: default Dolt server port changed from 3306 to 3307","closed_at":"2026-02-22T11:37:18Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"5d5b418ff65afb46eae993bdddff886dceb87d076f76b65467a7825673b1435f","created_at":"2026-02-22T10:48:56Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Ever since I switched dolt to server mode (because embedded is sensitive, even this launcher caused panics because the window showing the state of the runner blocked the connection). Now we instantly get a \"Could not connect to database...\" `bd dolt test` says everything is cool (and the ticketing still works). Investigate and fix\n## Steps to Reproduce\nWith `timeout` and `unbuffer` you should be able to see the screen","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-li6","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[BUG] No connection to dolt server","updated_at":"2026-02-22T11:37:18Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Megatherium","await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"106b1b80449f5abba4313b21764435dc7110a49d203bd5e82d8eb100186d6b2a","created_at":"2026-03-01T08:00:05Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"# Visual Depth, Color Cycling \u0026 Polish\n\n## Objective\nImplement advanced visual effects including glow effects, color cycling, agent status animations, and enhanced confirm/loading states to complete the arcade character select aesthetic.\n\n## Implementation Steps\n\n### 1. Enhance Color Interpolation System\n\n**File: `internal/ui/model_view.go`**\n\nReplace simple interpolateColor with proper RGB blending:\n\n```go\n// parseHexColor parses hex color string to RGB\nfunc parseHexColor(c string) (uint8, uint8, uint8, error) {\n    // Handle AdaptiveColor - for now, just extract hex\n    // AdaptiveColor{Light: \"230\", Dark: \"230\"} -\u003e \"230\"\n    // In practice, we'll use direct hex colors\n\n    var r, g, b uint8\n    _, err := fmt.Sscanf(c, \"#%02x%02x%02x\", \u0026r, \u0026g, \u0026b)\n    if err != nil {\n        // Try without # prefix\n        _, err = fmt.Sscanf(c, \"%02x%02x%02x\", \u0026r, \u0026g, \u0026b)\n        if err != nil {\n            // Fallback to ANSI color codes - return default\n            return 200, 200, 200, err\n        }\n    }\n    return r, g, b, nil\n}\n\n// interpolateColor blends between two RGB colors\nfunc interpolateColor(c1, c2 lipgloss.Color, t float64) lipgloss.Color {\n    // If both are the same, return one\n    if c1 == c2 || t \u003c= 0 {\n        return c1\n    }\n    if t \u003e= 1 {\n        return c2\n    }\n\n    // Parse colors\n    r1, g1, b1, _ := parseHexColor(string(c1))\n    r2, g2, b2, _ := parseHexColor(string(c2))\n\n    // Linear interpolation\n    r := uint8(float64(r1) + (float64(r2)-float64(r1))*t)\n    g := uint8(float64(g1) + (float64(g2)-float64(g1))*t)\n    b := uint8(float64(b1) + (float64(b2)-float64(b1))*t)\n\n    // Format back to hex\n    return lipgloss.Color(fmt.Sprintf(\"#%02x%02x%02x\", r, g, b))\n}\n```\n\nUpdate getPulsingColor with proper interpolation:\n\n```go\nfunc getPulsingColor(phase float64) lipgloss.Color {\n    // Palette: dark magenta -\u003e standard -\u003e bright magenta\n    dark := lipgloss.Color(\"#996699\")   // Dark purple-magenta\n    base := lipgloss.Color(\"#d700d7\")   // Standard magenta\n    bright := lipgloss.Color(\"#ff66ff\")  // Bright pink-magenta\n\n    if phase \u003c 0.5 {\n        t := phase * 2 // 0 to 1\n        return interpolateColor(dark, base, t)\n    } else {\n        t := (phase - 0.5) * 2 // 0 to 1\n        return interpolateColor(base, bright, t)\n    }\n}\n```\n\n### 2. Add Color Cycling System\n\n**File: `internal/ui/model_types.go`**\n\nExtend AnimationState:\n\n```go\ntype AnimationState struct {\n    // ... existing fields ...\n\n    // Color cycling\n    colorCycleIndex   int\n    colorCycleStart   time.Time\n}\n\n// Color palette for cycling\nvar colorPalette = []lipgloss.Color{\n    lipgloss.Color(\"#d700d7\"), // Magenta\n    lipgloss.Color(\"#8a2be2\"), // Blue-violet\n    lipgloss.Color(\"#ff6b6b\"), // Coral red\n    lipgloss.Color(\"#4ecdc4\"), // Teal\n}\n```\n\n**File: `internal/ui/model_update.go`**\n\nAdd cycling in handleAnimationTick:\n\n```go\n// In handleAnimationTick\n// Color cycling: change palette every 8 seconds\ncycleElapsed := msg.time.Sub(m.animState.colorCycleStart).Seconds()\ncycleDuration := 8.0\n\nif cycleElapsed \u003e= cycleDuration {\n    m.animState.colorCycleIndex = (m.animState.colorCycleIndex + 1) % len(colorPalette)\n    m.animState.colorCycleStart = msg.time\n}\n```\n\nUpdate getPulsingColor to use cycling palette:\n\n```go\nfunc getPulsingColor(phase float64, paletteIndex int) lipgloss.Color {\n    // Get current base color from cycling palette\n    baseColor := colorPalette[paletteIndex]\n\n    // Create dark and bright variants based on base\n    // For simplicity, use fixed palette in function\n    dark := lipgloss.Color(\"#996699\")\n    bright := lipgloss.Color(\"#ff66ff\")\n\n    // For a more sophisticated system, would generate variants from baseColor\n    // by darkening/lightening the RGB values\n\n    if phase \u003c 0.5 {\n        t := phase * 2\n        return interpolateColor(dark, baseColor, t)\n    } else {\n        t := (phase - 0.5) * 2\n        return interpolateColor(baseColor, bright, t)\n    }\n}\n```\n\nUpdate renderMatrixView to pass palette index:\n\n```go\npulsingActiveColor := getPulsingColor(m.animState.pulsePhase, m.animState.colorCycleIndex)\n```\n\nInitialize colorCycleStart in NewUIModel:\n\n```go\nanimState: AnimationState{\n    startTime:       time.Now(),\n    colorCycleStart: time.Now(),\n},\n```\n\n### 3. Implement Glow Effects (Multi-Layer Borders)\n\n**File: `internal/ui/model_view.go`**\n\nAdd glow rendering helper:\n\n```go\n// renderGlowBorder creates a multi-layer border with glow effect\nfunc renderGlowBorder(w int, activeColor lipgloss.Color) string {\n    if w \u003c 4 {\n        return \"\" // Not enough space for glow\n    }\n\n    // Outer layer (dimmer)\n    outerStyle := lipgloss.NewStyle().\n        Border(lipgloss.RoundedBorder()).\n        BorderForeground(activeColor).\n        Width(w - 2)\n\n    // Inner layer (brighter)\n    innerStyle := lipgloss.NewStyle().\n        Border(lipgloss.RoundedBorder()).\n        BorderForeground(lipgloss.Color(\"#ffffff\")). // Bright white/gray\n        Width(w - 4)\n\n    // Since we can't nest lipgloss styles directly, simulate with\n    // layered rendering using border characters\n    // For now, use simpler approach: single border with brighter foreground\n\n    return outerStyle.Render(\"\")\n}\n```\n\nSimpler glow approach - enhance existing activeBorder:\n\n```go\nactiveBorder := func(w int, col FocusColumn) lipgloss.Style {\n    if w \u003c 2 {\n        w = 2\n    }\n\n    color := getActiveColor(col)\n\n    // Add subtle background glow\n    bgColor := lipgloss.Color(fmt.Sprintf(\"#%06x\",\n        0x1a0000 + // Very dark purple tint\n            uint32(color.Color)*0x10))\n\n    return lipgloss.NewStyle().\n        Border(lipgloss.RoundedBorder()).\n        BorderForeground(color).\n        Background(bgColor). // Subtle glow\n        Width(w - 2).\n        Height(listHeight - 2)\n}\n```\n\nNote: The above assumes color.Color field exists. Better approach:\n\n```go\nactiveBorder := func(w int, col FocusColumn) lipgloss.Style {\n    if w \u003c 2 {\n        w = 2\n    }\n\n    color := getActiveColor(col)\n\n    return lipgloss.NewStyle().\n        Border(lipgloss.RoundedBorder()).\n        BorderForeground(color).\n        Width(w - 2).\n        Height(listHeight - 2)\n}\n```\n\nFor true glow, would need lipgloss compositing. Save for future enhancement.\n\n### 4. Enhance Agent Status Visuals\n\n**File: `internal/ui/sidebar.go`**\n\nMake status dots pulse when running:\n\n```go\n// In renderAgentName\nfunc (m SidebarModel) renderAgentName(node *domain.SidebarNode, name string, isCursor bool) string {\n    if node.AgentInfo == nil {\n        return name\n    }\n\n    if m.shouldApplyStyle(isCursor) {\n        switch node.AgentInfo.Status {\n        case domain.AgentRunning:\n            // Pulsing dot for running agents\n            dot := \"●\"\n            // Could make dot pulse color if we had animation state in SidebarModel\n            return agentRunningStyle.Render(dot + \" \" + name)\n        case domain.AgentFailed:\n            // Failed: red dot\n            return agentFailedStyle.Render(\"● \" + name)\n        case domain.AgentCompleted:\n            return agentCompletedStyle.Render(\"● \" + name)\n        default:\n            return agentRunningStyle.Render(\"● \" + name)\n        }\n    }\n    return name\n}\n```\n\nAdd \"glitch\" effect for failed agents:\n\n```go\ncase domain.AgentFailed:\n    // Alternate between red and darker red for glitch effect\n    // Would need animation state for this\n    return agentFailedStyle.Render(\"⚠ \" + name)\n```\n\nUpdate agent status styles:\n\n```go\nagentRunningStyle = lipgloss.NewStyle().\n    Foreground(lipgloss.AdaptiveColor{Light: \"34\", Dark: \"34\"}).\n    Bold(true) // Make running agents stand out\n\nagentFailedStyle = lipgloss.NewStyle().\n    Foreground(lipgloss.AdaptiveColor{Light: \"160\", Dark: \"160\"}). // Bright red\n    Bold(true).\n    Blink(false) // Don't actually blink, just indicate urgency\n\nagentCompletedStyle = lipgloss.NewStyle().\n    Foreground(lipgloss.AdaptiveColor{Light: \"245\", Dark: \"245\"}).\n    Italic(true) // Italic for \"done\" feel\n```\n\n### 5. Enhance Confirm View\n\n**File: `internal/ui/confirm.go`**\n\nAdd arcade-style ready indicator:\n\n```go\nvar (\n    // ... existing styles ...\n\n    readyBadgeStyle = lipgloss.NewStyle().\n        Bold(true).\n        Foreground(lipgloss.Color(\"#ffffff\")).\n        Background(lipgloss.Color(\"#00ff00\")).\n        Padding(0, 2).\n        MarginBottom(1)\n\n    // Pulsing ready indicator\n    readyTextStyle = lipgloss.NewStyle().\n        Bold(true).\n        Foreground(lipgloss.Color(\"#00ff00\")).\n        MarginBottom(1)\n)\n\nfunc confirmView(selection domain.Selection, renderer *config.Renderer, dryRun bool, workDir string) string {\n    s := \"\"\n\n    if dryRun {\n        s += dryRunBadgeStyle.Render(\"[DRY RUN]\") + \"\\n\"\n    }\n\n    s += titleStyle.Render(\"Confirm Launch Spec\") + \"\\n\"\n    // ... existing selection display ...\n\n    if workDir != \"\" {\n        s += fmt.Sprintf(\"WorkDir: %s\\n\\n\", itemStyle.Render(workDir))\n    }\n\n    // ... existing renderer output ...\n\n    // Arcade-style ready indicator\n    s += \"\\n\"\n    s += readyTextStyle.Render(\"READY?\")\n\n    s += \"\\n\"\n    s += \"[Press Enter to launch, esc to go back]\"\n    return s\n}\n```\n\nAdd big launch button visual:\n\n```go\nlaunchButtonStyle := lipgloss.NewStyle().\n    Bold(true).\n    Foreground(lipgloss.Color(\"#ffffff\")).\n    Background(lipgloss.Color(\"#d700d7\")).\n    Padding(0, 4).\n    MarginTop(1).\n    Width(20).\n    Align(lipgloss.Center)\n\n// At bottom:\ns += \"\\n\"\ns += launchButtonStyle.Render(\"LAUNCH\")\n```\n\n### 6. Enhanced Loading States\n\n**File: `internal/ui/model_view.go`**\n\nUpdate loading text:\n\n```go\nif m.loading {\n    // Animated loading indicator\n    frames := []string{\"◜\", \"◝\", \"◞\", \"◟\"}\n    frameIndex := int(elapsed.Seconds()*4) % 4\n    frame := frames[frameIndex]\n\n    loadingStyle := lipgloss.NewStyle().\n        Bold(true).\n        Foreground(lipgloss.Color(\"#d700d7\"))\n\n    s = loadingStyle.Render(frame + \" Loading tickets...\")\n    return s\n}\n```\n\nAdd \"insert coin\" style loading message:\n\n```go\nloadingArcadeStyle := lipgloss.NewStyle().\n    Bold(true).\n    Foreground(lipgloss.Color(\"#ffcc00\")).\n    MarginTop(1)\n\ns = \"Initializing...\\n\"\ns += loadingArcadeStyle.Render(\"INSERT COIN TO START\")\ns += \"\\n\\n(Loading tickets...)\"\n```\n\n### 7. Improve Typography \u0026 Hierarchy\n\n**File: `internal/ui/model_view.go`**\n\nEnhance filter box:\n\n```go\nfilterStyle := lipgloss.NewStyle().\n    Bold(true).\n    Foreground(lipgloss.Color(\"#ffffff\")).\n    Background(lipgloss.Color(\"#4a4a8a\")). // Dark purple-blue\n    Padding(0, 1).\n    MarginBottom(1)\n\nfilterBox := lipgloss.NewStyle().\n    Border(lipgloss.RoundedBorder()).\n    BorderForeground(lipgloss.Color(\"#6a6aaa\")).\n    Width(matrixWidth-2).\n    Height(1).\n    Render(filterStyle.Render(\"Filters: [All] | (Press / to search)\"))\n```\n\nMake column titles more prominent:\n\n```go\nconst focusIndicator = \"▶ \"\nconst noIndicator = \"  \"\n\n// Add color to focus indicator\nfocusedTitleStyle := lipgloss.NewStyle().\n    Bold(true).\n    Foreground(lipgloss.Color(\"#ffcc00\")) // Gold/yellow\n\n// When applying focus indicator:\nif m.focus == FocusTickets {\n    m.ticketList.Title = focusedTitleStyle.Render(focusIndicator) + ticketTitle\n    // ...\n}\n```\n\n### 8. Import Statements\n\n**File: `internal/ui/model_view.go`**\n\nNo new imports needed (already has fmt).\n\n## Acceptance Criteria\n\n- [ ] Color interpolation uses proper RGB blending\n- [ ] Color palette cycles every 8 seconds smoothly\n- [ ] All four columns use consistent animated styling\n- [ ] Running agents have bold, prominent status dots\n- [ ] Failed agents have bright red indicators\n- [ ] Confirm view has prominent \"READY?\" text\n- [ ] Loading states feel responsive and engaging\n- [ ] Typography hierarchy is clear (titles vs content)\n- [ ] All effects are subtle, not distracting\n- [ ] Performance remains smooth\n- [ ] Tests pass\n\n## Notes\n\n- Glow effects are kept simple - true multi-layer borders require more complex lipgloss compositing\n- Color cycling makes the UI feel more alive without being flashy\n- Agent status improvements provide clear visual feedback\n- Confirm view enhancements create satisfying \"final selection\" moment\n- Loading animations make wait times feel shorter\n- All effects should be tested in both light and dark terminal modes\n\n## Dependencies\n\n- Depends on: bb-cj8-lockin-flash (needs animation system and lock-in mechanics)\n\n## Completes\n\n- This completes the visual polish work for bb-cj8\n- Parent task bb-cj8 can be closed after this and all dependent tickets are complete\n\n## Cleanup\n\nAfter ticket is closed, delete these tempfiles:\n- /tmp/bb-ticket-1-desc.md\n- /tmp/bb-ticket-2-desc.md\n- /tmp/bb-ticket-3-desc.md\n","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-loy","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Visual Depth, Color Cycling \u0026 Polish","updated_at":"2026-03-01T08:00:05Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"MVP complete: config loading, launch integration with rendered commands, status monitoring, all flags wired. Review passed with minor lint fixes in bb-btg.","closed_at":"2026-02-21T09:50:02Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"7758212e8287c4b7581ceb8be642424cd4577addb36b031c37a587044e18d075","created_at":"2026-02-19T18:48:07Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Complete the MVP by wiring config-driven harness selection and tmux launching into the TUI flow.\n\n## Deliverables\n\n### Config integration\n- Load config from --config path on app start (default: blunderbuss.yaml in cwd)\n- Config error → clear error screen (file not found, parse error, validation error)\n- Harness/model/agent selection screens populated from loaded config\n\n### Launch integration\n- Confirm screen shows: ticket ID+title, harness, model, agent, rendered command, rendered prompt\n- Enter on confirm → calls Launcher.Launch with assembled LaunchSpec\n- Result screen shows success (window name, ID) or failure (error message)\n- --dry-run works end-to-end: confirm screen shows \"[DRY RUN]\" badge, result shows what would have run\n\n### Monitoring integration\n- After launch, result screen shows live status of tmux window (Running/Dead)\n- Poll with tea.Tick every 2-3 seconds\n- Status display: 🟢 Running / 🔴 Dead / ⚪ Unknown\n\n### cmd/blunderbuss/main.go final wiring\n- Composition root creates: TicketStore + ConfigLoader + TmuxLauncher + App\n- All flags: --config, --beads-dir, --dsn, --dry-run, --debug, --demo\n- Clean shutdown: close DB connections, release locks\n\n## This ticket produces the working MVP\nAfter this, you can: run blunderbuss inside tmux → see tickets from beads → pick harness/model/agent → confirm → launch in new tmux window → see if it's running.\n\n## Key decisions\n- Composition root pattern: main.go does all wiring, app receives only interfaces\n- Monitoring is simple polling — no goroutine management complexity\n- Dry-run is a first-class mode, not an afterthought","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-nds","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Wire config loader + tmux launcher into TUI (end-to-end MVP)","updated_at":"2026-02-21T09:50:02Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Approved and merged","closed_at":"2026-02-22T17:02:18Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"b935fdf1396d6ee1d300a29ed71a714a753200b3fa4efe60a7f9e94fc7a760b0","created_at":"2026-02-22T12:30:46Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the visual design and interactive elements added to bb-bc0. Focus on: footer background colors, active/inactive rounded column frames, multiline Harness delegates, faint column dimming, and the 'i' floating modal for ticket preview.\nCAUTION: so mongrel already committed internal/ui/model.go so you'll to work with the diff or however you see fit to see the changes.\n","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-nvr","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Arcade Select Visual Polish","updated_at":"2026-02-22T17:02:18Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-20T19:45:20Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"85ac31992c86500e537399e403e5caaddfd86c63dd506649a8fe892dd376983d","created_at":"2026-02-20T19:27:39Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-ooj","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Review Score: 8.5/10\n\n## Strengths\n- Clean CommandRunner abstraction for testability\n- Proper interface compliance with exec.Launcher\n- 97.3% test coverage, well-structured test cases\n- Clear documentation (doc.go)\n- Good error handling with tmux context guard\n\n## Issues Found\n1. Unused statusChecker field in Launcher struct (launcher.go:22)\n2. Orphaned internal/exec/fake/launcher.go with no references\n\n## Outcome\nRefinement ticket bb-bcb created for code hygiene.","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: bb-7ah Implement real tmux Launcher","updated_at":"2026-02-20T19:45:20Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Feature complete and landed!\\n\\nImplemented disabled column functionality:\\n- Model and Agent columns grey out when harness has no items\\n- Navigation skips disabled columns (arrows, tab, Enter)\\n- Specific placeholder text: 'No models/agents available for this harness'\\n- Comprehensive tests including edge cases\\n- State transition documentation\\n\\nRefinements from bb-bz8 applied and pushed to master.","closed_at":"2026-02-28T08:19:23Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"dd368a94de7139e2787d47846c270c0124277da62ab693ac9d8cdb66196bacb6","created_at":"2026-02-28T06:59:40Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"When a harness has no models or agents configured, the corresponding column in the 4-column selection matrix should be visually greyed out and navigation should skip it.\n\n## Current Behavior\n- All 4 columns (Tickets, Harness, Model, Agent) are always active\n- Even when harness.models = [] or harness.agents = [], user can still focus and interact with empty columns\n- This is confusing UX - user expects to make a selection but there's nothing to select\n\n## Desired Behavior\n\n### Model Column\n- If harness.SupportedModels is empty → grey out the Model column\n- Visual: Border in ThemeInactive color, faint content, placeholder text \"N/A\" or \"Not configured\"\n- Navigation: Left/right arrow keys should skip over this column\n- Enter key: Should not be handled (no-op or move to next column)\n\n### Agent Column  \n- If harness.SupportedAgents is empty → grey out the Agent column\n- Same visual treatment and navigation behavior as Model column\n\n### Examples\n\n**Amp harness:**\n```yaml\n- name: amp\n  models: []  # Model column greyed out\n  agents: []  # Agent column greyed out\n```\n→ User picks Ticket, picks Harness (amp), then goes directly to confirmation\n\n**Opencode harness:**\n```yaml\n- name: opencode\n  models: [discover:active]  # Model column active\n  agents: [coder, task]      # Agent column active\n```\n→ Normal 4-column flow\n\n**Claude Code harness:**\n```yaml\n- name: claude-code\n  models: [claude-opus-4, claude-sonnet-4]\n  agents: []  # Agent column greyed out\n```\n→ User picks Ticket → Harness → Model → (skip Agent) → Confirmation\n\n## Implementation Notes\n\nThe check should happen after harness selection in model_update.go:\n- Check len(m.selection.Harness.SupportedModels) after expanding provider: and discover:active keywords\n- If 0, set a flag on UIModel\n- Same for agents\n\nNavigation logic needs to skip disabled columns when moving focus left/right.\n\n## Acceptance Criteria\n- [ ] Empty model column is visually greyed out and non-interactive\n- [ ] Empty agent column is visually greyed out and non-interactive  \n- [ ] Navigation skips disabled columns (arrow keys, tab)\n- [ ] Works correctly with all harness configurations\n- [ ] Visual indicator shows why column is disabled (e.g., \"Not configured for this harness\")","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-p3i","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Implementation complete. Created review ticket bb-z3h. Waiting for review before closing.","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"TUI: Grey out empty columns in selection matrix","updated_at":"2026-02-28T08:19:23Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-21T22:23:41Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"e44c5ad8c4981e5ee79d55d54419a83f78d1399ee42c45453e1b3c7c63dd90c5","created_at":"2026-02-21T22:22:26Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Fix issue where the layout isn't filling the full width properly because JoinVertical with Left is not aligning the view to take up full width. Instead use JoinVertical(lipgloss.Top... to join the main view and the footer with the main view expanding.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-pcr","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: TUI: Base Layout \u0026 Footer Info Rocker","updated_at":"2026-02-21T22:23:41Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review passed (bb-3xb). GOFIPS140=off successfully added to Makefile build, debug, and install targets. Investigation confirmed the 32MB FIPS buffer is in BSS (runtime memory), not binary file size.","closed_at":"2026-02-22T19:33:42Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"046ac26be7d51370c2f52eb8d0ea520867fd628e2b99f6ddf60779f3f8e16b3b","created_at":"2026-02-22T14:52:12Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"## Problem\n- Binary contains 32MB static buffer for crypto/internal/fips140/drbg.memory (FIPS 140-3)\n- Current builds include symbol tables and DWARF info\n\n## Goals\n1. Disable FIPS 140-3: Set GOFIPS140=off in CI/CD, verify no dependency forces FIPS mode\n2. Add strip flags to Makefile: -ldflags=\"-s -w\"\n3. Consider adding tags: gms_pure_go, osusergo, netgo (if applicable)\n\n## Expected Result\nReduce binary size by ~30-40MB","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-pd5","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Investigation complete. The 32MB FIPS buffer is in BSS (runtime memory), not the binary file. GOFIPS140=off was added to Makefile but does not reduce file size. Binary remains 93MB. Size reduction would require refactoring to use Dolt server mode exclusively to eliminate cloud provider dependencies.","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Optimize build pipeline (FIPS + ldflags)","updated_at":"2026-02-22T19:33:42Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Feature complete and reviewed (bb-3yt, score 9.0/10)","closed_at":"2026-02-25T15:49:28Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"eb8f4b4779ea0b75a879ffeb80094d020f4b0d861b6114f0b3faac62d8ea9e89","created_at":"2026-02-25T15:41:23Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Currently it is assumed that the default dolt port is 3307 but that is only true for Gastown\nA beads only project has its dolt server (each one its own) with a random port. The port can be scraped from `bd dolt status`\n\n## Feature Description\nDon't assume 3307 as default port. Check .beads/metadata.json for the port, fallback to `bd dolt status`\n\n## Implementation\nCompleted in commit 37e0da3:\n- Added ResolveServerPort() method to Metadata struct\n- Automatically detects port from 'bd dolt status' output when not configured\n- Supports both 'Port: XXXX' (running) and 'Expected port: XXXX' (stopped) formats\n- Falls back gracefully when detection fails","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-pdn","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[FEATURE] Dolt autodetection","updated_at":"2026-02-25T15:49:28Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Implementation complete and review passed (bb-fvg). Duplicate harness name validation added with comprehensive test coverage.","closed_at":"2026-02-21T17:21:08Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"b6f0315e18c88d852effbbaaca35c0f378028457d313debafadd639b58161453","created_at":"2026-02-20T06:44:25Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"The YAML loader doesn't validate for duplicate harness names. This could cause ambiguity downstream when selecting harnesses by name. Should return an actionable error like 'duplicate harness name \"foo\" at index N (first defined at index M)'.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-q5v","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add validation for duplicate harness names in config","updated_at":"2026-02-21T17:21:08Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Done after a semi fool's errand. Last commit for the ticket: 3b512c3","closed_at":"2026-02-28T12:59:30Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"33153fcf5501d3610299964ccb41778d7b446896c21dc69fcbc6cf78797ee36d","created_at":"2026-02-21T17:27:41Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Add programmatic buffer capture tests using teatest to verify keyboard navigation and state changes.\nUtilizie `agent-tui` as this is way less complicated than using `vhs`\n\nFigure out if `agent-tui screenshot` is sufficient or you need to use the websockt and thus a websocket client (ws is exposed via `agent-tui live`)","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-q7u","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"TUI automated testing implementation complete. 14 teatest unit tests + 6 agent-tui integration tests. All tests passing.","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"QA: TUI Automated Testing","updated_at":"2026-02-28T12:59:30Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Refinement completed - all 3 issues fixed and tested","closed_at":"2026-03-01T12:11:02Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"449a04e7a922cbb5f5248bb51d9f10adaea6cc8c855a8c8e0ae306df0d158fe4","created_at":"2026-03-01T12:03:03Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"## Refinement for bb-6dp: Auto-refresh UI on Dolt Changes\n\n### Issues Found\n1. **Typo in comment** (internal/data/dolt/store.go:75): \"Close closes of database connection.\" should be \"Close closes the database connection.\"\n2. **Inconsistent import alias** (internal/ui/model_commands.go:32): Uses exec.Command instead of osexec.Command after aliasing\n3. **Magic numbers**: 3*time.Second and 500*time.Millisecond should be named constants\n\n### Required Fixes\n- [ ] Fix typo in store.go comment\n- [ ] Use consistent osexec.Command in model_commands.go:32\n- [ ] Add constants for polling interval and animation tick duration\n\n### Note\nThis is optional cleanup - original implementation is fully functional (score: 9.2/10)","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-r35","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: Auto-refresh UI cleanup","updated_at":"2026-03-01T12:11:02Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-27T10:50:34Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"2968ede12df9590cda52c320ea195f204c3d984c9c2dfc349ff7a306529cb365","created_at":"2026-02-27T10:46:16Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the fix for bb-9bq. Four root causes addressed:\n1. Double-counted vertical margins in handleWindowSizeMsg\n2. Ticket list incorrectly sized after data load (missing updateSizes call)\n3. mainContentStyle missing MaxHeight (lipgloss Height only pads, doesn't truncate)\n4. Narrow column overflow from bubbles list width mismatch (constrained with MaxWidth+MaxHeight)\n\nFiles modified: internal/ui/model_types.go, internal/ui/model_update.go, internal/ui/model_view.go\n\nVerified via agent-tui: all columns aligned, no top cutoff, sidebar toggle works, all tests pass.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-rgi","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Review complete - fix approved. Addresses 4 root causes: double-counted margins, missing updateSizes() call, lipgloss Height vs MaxHeight, and list width overflow. Visual verification confirms no cutoff, all tests pass. Score: 9.5/10","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Fix UI over-rendering (bb-9bq)","updated_at":"2026-02-27T10:50:34Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-19T21:37:54Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"d0898aacd9c76ef62bdbf3b1a6f2cdc8deed615b13ca7c1092f1cd965225d21f","created_at":"2026-02-19T18:46:02Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Create stable contracts between layers so later tickets can be implemented independently and tested with fakes. No real DB/tmux/UI logic — only types, interfaces, and minimal stub/fake implementations.\n\n## Deliverables\n\n### internal/domain/types.go\n- Ticket struct: ID, Title, Description, Status, Priority, IssueType, Assignee, CreatedAt, UpdatedAt (match beads issues table schema — see tmp/schema.go for full column list, cherry-pick what's useful for display and context)\n- Harness struct: Name, CommandTemplate (Go text/template string), PromptTemplate (Go text/template string), SupportedModels []string, SupportedAgents []string, Env map[string]string\n- Selection struct: Ticket + Harness + Model + Agent (the user's complete choice)\n- LaunchSpec struct: Selection + RenderedCommand string + RenderedPrompt string + WindowName string\n- LaunchResult struct: WindowName, WindowID (optional), PaneID (optional), Error\n- Config struct: Harnesses []Harness, Defaults (optional, for future quickdraw/blitzdraw)\n\n### internal/domain/template_context.go\n- TemplateContext struct — the fat context passed to both command and prompt templates. Include everything: Ticket fields, Harness name, Model, Agent, Repo path, Branch, etc. Generous — templates pick what they need.\n\n### internal/data/store.go\n- type TicketStore interface { ListTickets(ctx context.Context, filter TicketFilter) ([]domain.Ticket, error) }\n- TicketFilter struct: Status, IssueType, Limit, Search\n\n### internal/config/loader.go\n- type Loader interface { Load(path string) (*domain.Config, error) }\n\n### internal/exec/launcher.go\n- type Launcher interface { Launch(ctx context.Context, spec domain.LaunchSpec) (*domain.LaunchResult, error) }\n\n### internal/data/fake/, internal/exec/fake/\n- FakeTicketStore and FakeLauncher for testing and UI development without real deps\n\n## Key design decisions\n- UI depends ONLY on interfaces + domain types, never on concrete implementations\n- Template context is intentionally generous — security is not a concern (launching tools with broad access anyway)\n- TicketFilter is kept simple for MVP — no pagination yet\n- Interfaces are minimal (one method each where possible) — easy to implement, easy to fake","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-sxs","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[PRO] Define core domain types and service interfaces","updated_at":"2026-02-19T21:37:54Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review passed with score 9.0/10. All deliverables complete, clean architecture, good fakes.","closed_at":"2026-02-19T21:37:54Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"6b8c66357feeee90d90612059f15b9aa6cc8e3d37965fbf77eb0494b3ccf31cd","created_at":"2026-02-19T21:28:18Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the implementation of bb-sxs. Check types, interfaces, and fakes for completeness, correctness, and alignment with the ticket spec.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-sza","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Define core domain types and service interfaces","updated_at":"2026-02-19T21:37:54Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"All acceptance criteria met. Default build: ~11MB. Full build: ~93MB. Error message mentions both build options. Documentation updated.","closed_at":"2026-02-22T20:05:09Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"78e5a6c35c61cfc721ad97644b1f3b17a888fe83d401a4fc79cedfe88dfcd313","created_at":"2026-02-22T19:11:10Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"## Problem\\nCurrent builds always include embedded Dolt support, pulling in 68 cloud provider dependencies and inflating binary to 93MB. Many users only need server mode.\\n\\n## Goals\\nImplement optional build configuration:\\n\\n1. **Default build** (no tags): Server mode only\\n   - Uses go-sql-driver/mysql (~100KB)\\n   - Estimated size: ~20-30MB\\n   - Requires running dolt sql-server externally\\n\\n2. **Full build** (-tags=embedded): Server + Embedded modes\\n   - Includes github.com/dolthub/driver with CGO\\n   - Current 93MB size\\n   - Works out of the box\\n\\n## Implementation Plan\\n1. Create build-tagged variants:\\n   -  (default): Server-only implementation\\n   -  (//go:build embedded): Embedded implementation\\n\\n2. Common interface in store.go for mode selection\\n\\n3. Update Makefile:\\n   - GOFIPS140=off go build -ldflags \"-s -w -X main.Version=aebecc5-dirty -X main.BuildTime=2026-02-22T19:11:06Z\" -o bdb ./cmd/blunderbust\nBuilt: bdb: Default server-only build\\n   - : Build with embedded support\\n\\n4. Runtime behavior:\\n   - Default build: Returns error if metadata specifies embedded mode\\n   - Full build: Supports both modes as today\\n\\n## Acceptance Criteria\\n- [ ] Default build produces binary \u003c 30MB\\n- [ ] Full build maintains current functionality\\n- [ ] Clear error message when embedded requested but not available\\n- [ ] Makefile targets documented","design":"Build tag structure:\\n- Default (no tags): server mode only\\n- 'embedded' tag: includes embedded driver\\n\\nMakefile targets:\\n- build: server-only (default)\\n- build-full: with embedded support\\n\\nCode organization:\\n- store.go: Common interface and mode selection\\n- store_server.go: Server implementation (always included)\\n- store_embedded.go: +build embedded - embedded implementation","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-tms","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Make embedded Dolt mode optional via build tags","updated_at":"2026-02-22T20:05:09Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"All review feedback addressed: (1) Added Description() edge case tests, (2) Documented env var dependency for discover:active, (3) Added nil check for SupportedModels. All tests passing.","closed_at":"2026-03-01T12:06:10Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"d05a6caf8f73b22ca9ba1477f8be707e5d6ad48763d6607da49e6cc90ce60c86","created_at":"2026-03-01T12:03:04Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Refinement for bb-1yw review (score 8.8/10). Fix 3 defects:\n\n1. **Missing Description() test coverage** (harness_select_test.go:104-116)\n   - Add test cases for edge cases: 0 models, 0 agents, nil registry\n\n2. **Undocumented environment dependency** (harness_select.go:43-46)\n   - Add comment explaining that discover:active expansion depends on environment variables being set (e.g., OPENAI_API_KEY)\n   - This is how the Registry determines which providers are active\n\n3. **Missing nil check** (harness_select.go:37)\n   - Fallback path accesses i.harness.SupportedModels without checking if i.harness is nil\n   - Add defensive nil check or document that harness is never nil in this context","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-ur1","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: Harness model count display bug fix","updated_at":"2026-03-01T12:06:10Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-19T20:26:22Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"046c7285890a6d4af24f6345af50442217db09da48946350f2fb6ae3f5fb3e2e","created_at":"2026-02-19T18:45:43Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Create the initial Go project structure and minimal CLI entrypoint that compiles. This is the foundation everything else depends on.\n\n## Deliverables\n- go.mod (module github.com/megatherium/blunderbuss)\n- cmd/blunderbuss/main.go — minimal CLI entrypoint with cobra or just flag, parsing --config, --dsn, --dry-run, --debug\n- internal/ package layout: domain/, data/, config/, exec/, ui/ (empty packages with doc.go ok)\n- Makefile with build, run, lint targets\n- .gitignore for Go\n- README.md stub (project name, one-liner, how to build)\n\n## Decisions to lock in\n- Go module path: github.com/megatherium/blunderbuss\n- CLI framework: keep it simple (stdlib flag or cobra — agent's call, but be consistent)\n- Project layout follows standard Go project layout (cmd/, internal/)\n- Composition root lives in cmd/blunderbuss/main.go — all wiring happens there\n- GPL-3 license header convention for source files","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-v9x","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Bootstrap Go module, repo layout, and build scaffolding","updated_at":"2026-02-19T20:26:22Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Refinement bb-92q complete. Changes were small refactors (keybinding extraction, constants, tests). No second review needed.","closed_at":"2026-02-21T22:56:26Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"a57e85e502e1904cc92718a683e734ef5814450bfe64c1ff0555af2e5e1b7fb5","created_at":"2026-02-21T17:27:37Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Foundational Bubble Tea layout with main workspace and bottom rocker footer for context-aware shortcuts.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-va5","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"TUI: Base Layout \u0026 Footer Info Rocker","updated_at":"2026-02-21T22:56:26Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review complete. Score: 8.8/10. Created refinement ticket bb-ur1 with 3 minor defects to fix.","closed_at":"2026-03-01T12:03:19Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"de424d935a31efe41da6046f124160869a7994ae5a191d9c15fae2e37c66963e","created_at":"2026-03-01T12:00:30Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the fix for bb-1yw - harness column model count display bug.\n\nChanges to review:\n- internal/ui/harness_select.go - Added registry-aware model counting\n- internal/ui/model.go - Updated NewUIModel to pass registry  \n- internal/ui/harness_select_test.go - Added comprehensive tests\n\nPlease assess:\n1. Code quality and maintainability\n2. Test coverage\n3. Any potential issues or smells\n4. Score from 0.0-10.0\n\nIf score \u003c 8.5, create a refinement ticket with specific defects to fix.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-vlh","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: Fix harness column model count display bug","updated_at":"2026-03-01T12:03:19Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Refinement complete after 2 rounds:\n\nRound 1 (bb-vpu):\n- Fixed silent fallback in newTestAppWithHarnesses\n- Fixed startAgentTuiSession misleading context tracking\n- Added assertion to TestAgentTui_GreyedOutColumns\n- Added error capture for agent-tui commands\n- Fixed connectWebsocket context lifetime\n- Fixed stale binary caching\n\nRound 2 (bb-2id):\n- Added comprehensive documentation for time.Sleep usage\n- Added assertions to verify TUI responsiveness after navigation\n\nAll tests passing. Score improved from 6.5 → 7.5 → ready for final review.","closed_at":"2026-02-28T12:02:29Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"9ac8dfe565e0e2d1383b093ccf99592310944169566e5624abf47d077bcb4bf3","created_at":"2026-02-28T11:38:49Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Refinement of bb-q7u TUI automated testing. Review score: 6.5/10 (threshold 8.5). The tests pass and coverage is reasonable in breadth, but there are several quality issues that make the tests fragile, misleading, or non-functional.\n\n## Defects to Fix\n\n### teatest_test.go\n\n1. **Replace time.Sleep with WaitFor** (lines 102, 132, 136, 140, 144, 211, 215, 219, 223, 227, 267, 271, 349, 371): There are 14 time.Sleep() calls in teatest tests. teatest provides WaitFor() precisely to avoid timing-dependent sleeps. Replace each sleep+action pair with a proper WaitFor that asserts on an observable state change after sending the key. Flaky on slow CI machines.\n\n2. **Weak/missing assertions in navigation tests**: TestTeatest_KeyboardNavigation_ArrowKeys and TestTeatest_FocusManagement_ColumnTransitions send key events but never assert any state change. After sending Right, assert focus changed (e.g., the harness list is now highlighted). Use tm.Send() then WaitFor() to verify an observable effect. Currently these tests are pure smoke tests with zero regression value.\n\n3. **Silent fallback in newTestAppWithHarnesses**: If NewApp returns an error, the function silently returns \u0026App{opts: opts} — a broken app struct — and tests run on it, potentially passing vacuously. Use require.NoError or t.Fatalf instead of the silent fallback.\n\n### agent_tui_test.go\n\n4. **startAgentTuiSession blocks on cmd.CombinedOutput()**: cmd.CombinedOutput() waits for the command to exit. 'agent-tui run' is a background session launcher that returns immediately with JSON. If it truly returns JSON and exits, the approach might work, but the context/cancel plumbing is wrong: cancel is stored in the session but is never the mechanism to stop the actual process (which has already exited). Verify the intended flow and either: (a) confirm 'agent-tui run --json' exits immediately after printing JSON (in which case, fix the misleading ctx/cancel/cmd.Process tracking) or (b) if it's a long-running process, use cmd.Start() + read stdout pipe instead.\n\n5. **TestAgentTui_GreyedOutColumns has no assertion**: hasGrey is computed but only logged (t.Logf), never asserted. This test always passes. Either assert True(t, hasGrey, ...) or document clearly (with a comment) why we cannot assert it yet (e.g., the feature isn't implemented and this is a canary test for when it is). As-is the test provides no value.\n\n6. **Ignored errors from agent-tui keyboard commands**: exec.Command(\"agent-tui\", \"press\", ...).Run() return values are silently dropped throughout. If agent-tui press fails (e.g., session not found, wrong key name), the test still passes. Capture and assert the error or at minimum t.Logf the stderr so failures are diagnosable.\n\n7. **connectWebsocket context lifetime**: ctx is created with WithTimeout and cancelled via defer cancel() inside the function, but the connection is returned and used after the context expires. WebSocket operations after ctx cancellation may fail unexpectedly. The context used for Dial should be separate from (or outlive) the connection's operating lifetime, or use context.Background() for the returned conn.\n\n8. **Stale binary caching in buildBlunderbust**: The cache check only looks for file existence (os.Stat), not staleness. If the binary exists from a previous test run but source has changed, the old binary is used. Add a modification-time check against the source or just always rebuild (the overhead is small for tests).","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-vpu","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refinement: TUI Automated Testing (bb-q7u)","updated_at":"2026-02-28T12:02:29Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Ticket already completed by bb-tms: server-only build is already decoupled and doesn't include heavy dependencies (binary size 11MB)","closed_at":"2026-02-23T08:24:08Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"d08de6b5739093bf18362df589a928ce76c89c293314d3bb7e5fbcca64c7fa26","created_at":"2026-02-22T14:51:49Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"## Problem\nThe binary includes github.com/dolthub/go-mysql-server (~40-60MB) and pulls in transitive AWS SDK dependencies that aren't actually used.\n\n## Goal\nRefactor database connection to use lightweight Dolt SQL Driver (github.com/dolthub/driver) via standard database/sql interface.\n\n## Notes\n- This will also remove the transitive AWS SDK dependencies\n- Keep the TicketStore interface contract from internal/data/store.go\n- Verify functionality works after refactor","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-w07","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Decouple SQL engine to reduce binary size","updated_at":"2026-02-23T08:24:08Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review complete. Score 6.5/10. Refinement ticket bb-vpu created with 8 defects to fix.","closed_at":"2026-02-28T11:39:08Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"3687cd4bdc16e0794ae3160058a74b76d85b379a65c3f00fd13e0367b483f07d","created_at":"2026-02-28T10:44:12Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Code review for bb-q7u TUI automated testing implementation.\\n\\nChanges made:\\n1. Added teatest dependency (github.com/charmbracelet/x/exp/teatest)\\n2. Added coder/websocket dependency for agent-tui integration\\n3. Created 14 unit tests in internal/ui/teatest_test.go:\\n   - Keyboard navigation (Tab, Arrow keys)\\n   - State transitions (Matrix, Confirm, Error)\\n   - Focus management across columns\\n   - Modal display, Sidebar toggle\\n   - Window resize, Loading states\\n4. Created 6 integration tests in internal/ui/agent_tui_test.go:\\n   - Basic websocket connection\\n   - Greyed-out columns with ANSI color verification\\n   - Keyboard navigation via agent-tui\\n   - Sidebar toggle testing\\n   - State transitions\\n   - Wait conditions\\n5. Updated AGENTS.md with TUI testing documentation\\n6. Updated README.md with TUI testing section\\n\\nFiles modified:\\n- internal/ui/teatest_test.go (new)\\n- internal/ui/agent_tui_test.go (new)\\n- go.mod, go.sum\\n- AGENTS.md\\n- README.md\\n\\nPlease review for:\\n- Code quality and maintainability\\n- Test coverage completeness\\n- Documentation clarity\\n- Integration test reliability","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-xid","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: TUI Automated Testing (bb-q7u)","updated_at":"2026-02-28T11:39:08Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Ghost tail output streaming and quit key fixes complete. All acceptance criteria met.","closed_at":"2026-02-28T19:25:00Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"4e5374a8a3290d76a7e2bfd8394c09d085b023a41e26070e379b646a2c1975a6","created_at":"2026-02-28T08:43:44Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"## Problem 1: Ghost tail shows 'Waiting for output...' but never updates\n\nThe output capture/streaming functionality (ghost tail) is not working correctly. When viewing an agent's output, it consistently displays 'Waiting for output...' even though:\n- The agent is running and producing output\n- When the harness was killed during startup with Ctrl+C, the ^C character appeared in the ghost tail view\n- This suggests the capture mechanism is working at some level, but the live output streaming is not\n\n**Expected behavior:**\nGhost tail should display live output from the tmux window as it happens\n\n**Actual behavior:**\nGhost tail shows 'Waiting for output...' indefinitely\n\n**Steps to reproduce:**\n1. Launch an agent with blunderbust\n2. Select the running agent in the sidebar to view its output\n3. Observe 'Waiting for output...' message\n4. Try running commands in the agent's tmux window - output doesn't appear\n\n## Problem 2: 'q' key should exit ghost tail view, not whole program\n\nCurrently, pressing 'q' while viewing agent output (ghost tail) exits the entire blunderbust program. This is jarring UX.\n\n**Expected behavior:**\n- When viewing agent output (ghost tail view): 'q' should return to the main matrix view\n- When on main screen (matrix view): 'q' should exit the program (current behavior)\n\n**Actual behavior:**\n- 'q' always exits the entire program regardless of which view is active\n\n## Acceptance Criteria\n- [ ] Ghost tail displays live output from agent tmux windows\n- [ ] 'q' key exits ghost tail view and returns to matrix\n- [ ] 'q' key on main matrix view still exits the program\n- [ ] No regression in other key bindings","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-y22","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Ghost tail not displaying output and 'q' key behavior incorrect","updated_at":"2026-02-28T19:25:00Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Superseded by bb-nds - config loading implemented in MVP","closed_at":"2026-02-21T09:49:54Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"cf5a26b4f7cbd60b52ca5ec5403902832eb8581cf79c26be8fda01aebba1dd60","created_at":"2026-02-20T18:21:24Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Replace the hardcoded Harness options in the UI with the real YAML parsed config Loader.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-yh0","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Read config from real yaml files","updated_at":"2026-02-21T09:49:54Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review completed. Score: 9.2/10. Minor defect found: /blunderbuss still in .gitignore (line 2). Refinement bb-exv created to fix.","closed_at":"2026-02-22T08:59:10Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"fd32c7e1762313424236f0276e1f171bd918d3ee5eb15d2763cf8c3071ecd069","created_at":"2026-02-22T07:53:01Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the project rename from blunderbuss to blunderbust.\n\n## Files to Review\n- go.mod - Module path change\n- All internal/*/*.go files - Import path updates (35 files)\n- internal/discovery/models.go - Cache directory path\n- internal/data/dolt/embedded.go - Dolt commit metadata\n- internal/exec/tmux/launcher.go - Error messages\n- internal/domain/types.go, doc.go - Package documentation\n- README.md, AGENTS.md - User documentation\n- .gitignore - Binary names\n\n## Review Criteria\n- All import paths correctly updated to github.com/megatherium/blunderbust\n- No remaining 'blunderbuss' references in code\n- Cache directory correctly set to ~/.cache/blunderbust\n- Binary name remains 'bdb' as specified\n- Documentation fully updated\n- All tests pass\n\n## Deliverable\nScore (0.0-10.0) and decision:\n- Score \u003c 8.5: Create refinement ticket listing all defects\n- Score \u003e= 8.5: Pass or optional minor cleanup","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-yh7","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"ADDITIONAL CHANGES (config directory):\n\n## Also Review\n- cmd/blunderbuss/main.go:71-82 - Config path resolution logic\n  - Now checks ~/.config/blunderbust/config.yaml first\n  - Falls back to ./config.yaml if XDG config doesn't exist\n- cmd/blunderbuss/main.go:40 - Updated --config flag help text\n- README.md:68,116,215 - Updated config path documentation\n- AGENTS.md - Changed ./blunderbust to bdb throughout","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: bb-3nf Project Rename","updated_at":"2026-02-22T08:59:10Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Implementation and review complete. Feature landed with refinements from bb-bz8:\\n- Specific placeholder text for disabled columns\\n- Clean test comments\\n- Comprehensive edge case tests\\n- State transition documentation\\n\\nAll changes committed and pushed to master.","closed_at":"2026-02-28T08:19:14Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"bd136079a6b0aa94b960dcff34c402b568f9a24151938c13bf2948d03790f305","created_at":"2026-02-28T08:03:54Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Code review for bb-p3i implementation.\\n\\nChanges made:\\n1. Added modelColumnDisabled and agentColumnDisabled fields to UIModel\\n2. Updated handleModelSkip() and handleAgentSkip() to set disabled flags when lists are empty\\n3. Implemented advanceFocus() and retreatFocus() helper functions that skip disabled columns\\n4. Updated navigation (arrow keys, tab) to use new helper functions\\n5. Updated handleEnterKey() to skip disabled columns\\n6. Modified renderMatrixView() to show disabled columns as greyed out with 'N/A' placeholder\\n7. Added comprehensive tests for disabled column functionality\\n\\nFiles modified:\\n- internal/ui/model_types.go\\n- internal/ui/model_update.go\\n- internal/ui/model_view.go\\n- internal/ui/model_test.go\\n\\nPlease review for:\\n- Code quality and maintainability\\n- Edge cases (all columns disabled, partial disabling)\\n- Navigation behavior consistency\\n- Visual presentation of disabled columns","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-z3h","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: TUI Grey out empty columns (bb-p3i)","updated_at":"2026-02-28T08:19:14Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Review completed. Quality score: 8.5/10. Implementation is solid with clean architecture, proper Bubbletea patterns, and comprehensive keyboard navigation. Minor non-blocking issues identified but no mandatory refinement required.","closed_at":"2026-02-22T22:25:18Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"284c91ca2ac69a347a9f9489d756108dbc5d2550023381a0a040ab0ad83243b1","created_at":"2026-02-22T20:19:08Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"Review the implementation of bb-lh7 (TUI Sidebar Component). Check for: code quality, maintainability, proper test coverage, and adherence to project patterns.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-zij","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Review: TUI Sidebar Component (State \u0026 Navigation)","updated_at":"2026-02-22T22:25:18Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Megatherium","await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"ae33fb1ce07265627c014b8a571201fc469484e3ca504452f12c93240c6f5b2b","created_at":"2026-03-01T08:00:04Z","created_by":"Megatherium","crystallizes":0,"defer_until":null,"description":"# Lock-In Flash \u0026 Selection Feedback\n\n## Objective\nImplement satisfying lock-in flash effects when selecting items and smooth focus transition animations to create responsive arcade button-press feedback.\n\n## Implementation Steps\n\n### 1. Add Lock-In Animation State\n\n**File: `internal/ui/model_types.go`**\n\nExtend AnimationState:\n\n```go\ntype AnimationState struct {\n    pulsePhase      float64       // 0-1, sine wave for breathing\n    startTime       time.Time      // When animation started\n\n    // Lock-in flash state\n    lockInActive    bool           // True when flash is active\n    lockInIntensity float64       // 1.0 → 0.0, decays over time\n    lockInStartTime time.Time      // When flash started\n    lockInTarget   FocusColumn    // Which column was locked in\n}\n```\n\n### 2. Add Lock-In Message\n\n**File: `internal/ui/model_messages.go`**\n\n```go\n// lockInMsg is sent when a selection is locked in (Enter pressed)\ntype lockInMsg struct {\n    column FocusColumn\n}\n\n// lockInCmd creates a lock-in flash effect\nfunc lockInCmd(column FocusColumn) tea.Cmd {\n    return func() tea.Msg {\n        return lockInMsg{column: column}\n    }\n}\n```\n\n### 3. Update Animation Tick Handler\n\n**File: `internal/ui/model_update.go`**\n\nModify handleAnimationTick:\n\n```go\nfunc (m UIModel) handleAnimationTick(msg animationTickMsg) (UIModel, tea.Cmd) {\n    elapsed := msg.time.Sub(m.animState.startTime).Seconds()\n\n    // Pulse cycle: 2.5 second period\n    period := 2.5\n    phase := (math.Sin(2*math.Pi*elapsed/period) + 1) / 2\n    m.animState.pulsePhase = phase\n\n    // Decay lock-in flash\n    if m.animState.lockInActive {\n        flashElapsed := msg.time.Sub(m.animState.lockInStartTime).Milliseconds()\n        // Flash lasts 48ms (3 frames at 60fps)\n        flashDuration := int64(48)\n\n        if flashElapsed \u003e= flashDuration {\n            // Flash complete\n            m.animState.lockInActive = false\n            m.animState.lockInIntensity = 0.0\n        } else {\n            // Linear decay: 1.0 → 0.0\n            m.animState.lockInIntensity = 1.0 - float64(flashElapsed)/float64(flashDuration)\n        }\n    }\n\n    return m, nil\n}\n```\n\n### 4. Trigger Lock-In Flash on Selection\n\n**File: `internal/ui/model_update.go`**\n\nModify handleKeyMsg (where Enter is processed):\n\n```go\nfunc (m UIModel) handleKeyMsg(msg tea.KeyMsg) (UIModel, tea.Cmd, bool) {\n    switch msg.String() {\n    // ... existing key handling ...\n\n    case \"enter\":\n        // Trigger lock-in flash before handling selection\n        cmd := lockInCmd(m.focus)\n\n        // Then handle normal selection logic\n        var selectionCmd tea.Cmd\n        m, selectionCmd = m.handleEnter()\n\n        return m, tea.Batch(cmd, selectionCmd), true\n\n    // ... rest of keys ...\n    }\n}\n```\n\nEnsure handleEnter exists or create it if not:\n\n```go\nfunc (m UIModel) handleEnter() (UIModel, tea.Cmd) {\n    // Existing selection logic from current implementation\n    // Move this from switch case into separate function\n    // ... (extract existing Enter handling logic)\n    return m, nil\n}\n```\n\n### 5. Implement Flash Color Rendering\n\n**File: `internal/ui/model_view.go`**\n\nAdd helper for lock-in flash color:\n\n```go\n// getFlashColor returns bright flash color based on intensity\nfunc getFlashColor(intensity float64) lipgloss.Color {\n    // Intensity: 1.0 (full bright) → 0.0 (normal)\n\n    if intensity \u003c= 0 {\n        return lipgloss.Color(\"\") // Use default\n    }\n\n    // Very bright magenta for flash\n    brightFlash := lipgloss.Color(\"201\") // Bright magenta\n    normalActive := ThemeActive\n\n    // For simplicity, return bright if intensity \u003e 0.5, else normal\n    // Proper implementation would blend colors\n    if intensity \u003e 0.5 {\n        return brightFlash\n    }\n    return normalActive\n}\n```\n\nModify activeBorder in renderMatrixView:\n\n```go\nfunc (m UIModel) renderMatrixView() string {\n    // ... existing guards ...\n\n    // Get base pulsing color\n    pulsingActiveColor := getPulsingColor(m.animState.pulsePhase)\n\n    // Check if lock-in flash is active for this column\n    getActiveColor := func(col FocusColumn) lipgloss.Color {\n        if m.animState.lockInActive \u0026\u0026 m.animState.lockInTarget == col {\n            return getFlashColor(m.animState.lockInIntensity)\n        }\n        return pulsingActiveColor\n    }\n\n    activeBorder := func(w int, col FocusColumn) lipgloss.Style {\n        if w \u003c 2 {\n            w = 2\n        }\n        return lipgloss.NewStyle().\n            Border(lipgloss.RoundedBorder()).\n            BorderForeground(getActiveColor(col)).\n            Width(w - 2).\n            Height(listHeight - 2)\n    }\n\n    // Use activeBorder with column parameter\n    if m.focus == FocusTickets {\n        // ... existing code ...\n        tView = activeBorder(m.tWidth, FocusTickets).Render(capView(m.ticketList.View(), m.tWidth))\n        // ...\n    }\n\n    if m.focus == FocusHarness {\n        // ... existing code ...\n        hView = activeBorder(m.hWidth, FocusHarness).Render(capView(m.harnessList.View(), m.hWidth))\n        // ...\n    }\n\n    // ... update Model and Agent sections similarly ...\n\n    // ... rest of renderMatrixView\n}\n```\n\nFull update for all columns:\n\n```go\n    if m.focus == FocusTickets {\n        m.ticketList.Title = focusIndicator + ticketTitle\n        tView = activeBorder(m.tWidth, FocusTickets).Render(capView(m.ticketList.View(), m.tWidth))\n        m.ticketList.Title = ticketTitle\n    } else {\n        m.ticketList.Title = noIndicator + ticketTitle\n        tView = inactiveBorder(m.tWidth).Render(faintCapView(m.ticketList.View(), m.tWidth))\n        m.ticketList.Title = ticketTitle\n    }\n\n    if m.focus == FocusHarness {\n        m.harnessList.Title = focusIndicator + harnessTitle\n        hView = activeBorder(m.hWidth, FocusHarness).Render(capView(m.harnessList.View(), m.hWidth))\n        m.harnessList.Title = harnessTitle\n    } else {\n        m.harnessList.Title = noIndicator + harnessTitle\n        hView = inactiveBorder(m.hWidth).Render(faintCapView(m.harnessList.View(), m.hWidth))\n        m.harnessList.Title = harnessTitle\n    }\n\n    if m.modelColumnDisabled {\n        // ... existing disabled code ...\n    } else if m.focus == FocusModel {\n        m.modelList.Title = focusIndicator + modelTitle\n        mView = activeBorder(m.mWidth, FocusModel).Render(capView(m.modelList.View(), m.mWidth))\n        m.modelList.Title = modelTitle\n    } else {\n        m.modelList.Title = noIndicator + modelTitle\n        mView = inactiveBorder(m.mWidth).Render(faintCapView(m.modelList.View(), m.mWidth))\n        m.modelList.Title = modelTitle\n    }\n\n    if m.agentColumnDisabled {\n        // ... existing disabled code ...\n    } else if m.focus == FocusAgent {\n        m.agentList.Title = focusIndicator + agentTitle\n        aView = activeBorder(m.aWidth, FocusAgent).Render(capView(m.agentList.View(), m.aWidth))\n        m.agentList.Title = agentTitle\n    } else {\n        m.agentList.Title = noIndicator + agentTitle\n        aView = inactiveBorder(m.aWidth).Render(faintCapView(m.agentList.View(), m.aWidth))\n        m.agentList.Title = agentTitle\n    }\n```\n\n### 6. Add Focus Transition Animation (Optional Enhancement)\n\n**File: `internal/ui/model_types.go`**\n\nAdd to AnimationState:\n\n```go\ntype AnimationState struct {\n    // ... existing fields ...\n\n    // Focus transition\n    focusTransitionActive bool\n    focusTransitionFrom  FocusColumn\n    focusTransitionTo    FocusColumn\n    focusTransitionStart time.Time\n}\n```\n\n**File: `internal/ui/model_messages.go`**\n\n```go\n// focusChangeMsg is sent when focus moves between columns\ntype focusChangeMsg struct {\n    from FocusColumn\n    to   FocusColumn\n}\n\nfunc focusChangeCmd(from, to FocusColumn) tea.Cmd {\n    return func() tea.Msg {\n        return focusChangeMsg{from: from, to: to}\n    }\n}\n```\n\nUpdate focus changes in Update to trigger transition:\n\n```go\n// In Update, when m.focus changes:\noldFocus := m.focus\n// ... logic that changes m.focus ...\nif oldFocus != m.focus {\n    return m, tea.Batch(cmd, focusChangeCmd(oldFocus, m.focus))\n}\n```\n\nHandle transition in tick:\n\n```go\n// In handleAnimationTick\nif m.animState.focusTransitionActive {\n    elapsed := msg.time.Sub(m.animState.focusTransitionStart).Milliseconds()\n    transitionDuration := int64(150) // 150ms transition\n\n    if elapsed \u003e= transitionDuration {\n        m.animState.focusTransitionActive = false\n    }\n    // Could interpolate border colors during transition\n}\n```\n\n### 7. Import Statements\n\n**File: `internal/ui/model_update.go`**\n\nNo new imports needed (already has time).\n\n## Acceptance Criteria\n\n- [ ] Pressing Enter triggers bright border flash (48ms duration)\n- [ ] Flash intensity decays smoothly to normal\n- [ ] Multiple rapid Enter presses each trigger separate flash\n- [ ] Flash does not interfere with pulse animation\n- [ ] Focus transitions feel responsive\n- [ ] Flash effect is satisfying without being distracting\n- [ ] All existing functionality works correctly\n- [ ] Tests pass\n\n## Notes\n\n- The 48ms flash duration is brief but noticeable (3 frames at 60fps)\n- Flash color should be very bright for impact\n- If focus transition is too complex, can skip it - lock-in flash is the priority\n- Consider adding lock-in flash to other selection points (sidebar, confirm view)\n- Flash effect is what gives the arcade \"button press\" feel\n\n## Dependencies\n\n- Depends on: bb-cj8-anim-foundation (animation system must exist first)\n\n## Blocks\n\n- Color cycling (builds on lock-in mechanics)\n- Glow effects (builds on flash intensity system)\n","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bb-zuc","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"852741+Megatherium@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Lock-In Flash \u0026 Selection Feedback","updated_at":"2026-03-01T08:00:04Z","waiters":"","wisp_type":"","work_type":""}
